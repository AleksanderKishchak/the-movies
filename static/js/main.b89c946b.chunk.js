(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){e.exports=a.p+"static/media/logo.b205435e.png"},141:function(e,t,a){e.exports=a(342)},146:function(e,t,a){},173:function(e,t,a){},175:function(e,t,a){},247:function(e,t,a){},303:function(e,t,a){},305:function(e,t,a){},307:function(e,t,a){},309:function(e,t,a){},312:function(e,t,a){},314:function(e,t,a){},325:function(e,t,a){},330:function(e,t,a){},332:function(e,t,a){},335:function(e,t,a){},337:function(e,t,a){},339:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),i=a.n(c),o=(a(146),a(22)),s=a(345),l=a(34),u=a(138),m="GET_MOVIES_BY_NAME",p="GET_MOVIES_BY_GENRE",d="GET_POPULAR_MOVIES",v="GET_MOVIES_SUCCESS",f="MOVIES_REQUEST";var h="SET_SORTING";var E="SET_VIEW_TYPE";var b=Object(l.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.movies;default:return e}},fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case f:return!0;case v:return!1;default:return e}},sortingType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"POPULARITY_DESC",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.param;default:return e}},viewType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LIST",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.viewType;default:return e}}}),g=a(23),y=a.n(g),O=a(20),w=a(43),S=a.n(w),j="b0730a1cf45ff798ff411242700e6f40";S.a.defaults.baseURL="https://api.themoviedb.org/3";var N="&language=en-EN";function _(e){var t="search/movie?api_key=".concat(j,"&query=").concat(e).concat(N);return S.a.get(t).then(function(e){return e.data.results})}function C(){var e="movie/popular?api_key=".concat(j).concat(N);return S.a.get(e).then(function(e){return e.data.results})}function T(e){var t="/discover/movie?api_key=".concat(j).concat(N,"&sort_by=popularity.desc&include_adult=true&include_video=false&with_genres=").concat(e);return S.a.get(t).then(function(e){return e.data.results})}var k=y.a.mark(A),x=y.a.mark(L),M=y.a.mark(I),P=y.a.mark(D);function A(){var e;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.c)({type:f});case 3:return t.next=5,Object(O.b)(C);case 5:return e=t.sent,t.next=8,Object(O.c)({type:v,movies:e});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}},k,this,[[0,10]])}function L(e){var t,a;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.name,n.prev=1,n.next=4,Object(O.c)({type:f});case 4:return n.next=6,Object(O.b)(_,t);case 6:return a=n.sent,n.next=9,Object(O.c)({type:v,movies:a});case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0);case 14:case"end":return n.stop()}},x,this,[[1,11]])}function I(e){var t,a;return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.genreId,n.prev=1,n.next=4,Object(O.c)({type:f});case 4:return n.next=6,Object(O.b)(T,t);case 6:return a=n.sent,n.next=9,Object(O.c)({type:v,movies:a});case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0);case 14:case"end":return n.stop()}},M,this,[[1,11]])}function D(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)(d,A);case 2:return e.next=4,Object(O.d)(m,L);case 4:return e.next=6,Object(O.d)(p,I);case 6:case"end":return e.stop()}},P,this)}var R=y.a.mark(V);function V(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([D()]);case 2:case"end":return e.stop()}},R,this)}var F=Object(u.a)(),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,U=Object(l.e)(b,B(Object(l.a)(F)));F.run(V);var Y=U,G=a(26),W=a(27),H=a(29),J=a(28),X=a(30),$=a(347),q=a(343);a(173),a(175);function Q(e){var t=e.wrapperStyle;return r.a.createElement("div",{className:"loader-wrap",style:t},r.a.createElement("div",{className:"loader"}))}Q.defaultProps={wrapperStyle:{}};var z=Q,K=a(121),Z=a.n(K),ee=a(140),te=a(119),ae=a.n(te),ne={display:"flex",justifyContent:"space-between",minWidth:"8rem"};function re(e){var t=e.children,a=Object(ee.a)(e,["children"]);return r.a.createElement(ae.a,Object.assign({},a,{style:ne}),t)}re.defaultProps={children:""};var ce=re,ie=(a(247),a(139)),oe=a(120),se=Object(oe.a)([function(e){return e.movies},function(e){return e.sortingType}],function(e,t){var a=Object(ie.a)(e);switch(t){case"POPULARITY_DESC":return a.sort(function(e,t){return t.popularity-e.popularity});case"POPULARITY_ASC":return a.sort(function(e,t){return e.popularity-t.popularity});case"RELEASE_DATE_DESC":return a.sort(function(e,t){var a=[e.release_date,t.release_date],n=a[0],r=a[1];return r>n?1:r<n?-1:0});case"RELEASE_DATE_ASC":return a.sort(function(e,t){var a=[e.release_date,t.release_date],n=a[0],r=a[1];return r<n?1:r>n?-1:0});default:return e}}),le=function(e){function t(){var e,a;Object(G.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(H.a)(this,(e=Object(J.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=e.target.value,n=a.props,r=n.onSetSorting;t!==n.activeSorting&&r(t)},a}return Object(X.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props.activeSorting;return r.a.createElement("div",{className:"sorting"},r.a.createElement("span",{className:"sorting-label"},"Sort by:"),r.a.createElement("div",{className:"select-wrapper"},r.a.createElement(Z.a,{style:{marginLeft:10},value:e,onChange:this.handleChange,inputProps:{name:"age",id:"age-simple"}},r.a.createElement(ce,{value:"POPULARITY_DESC"},"Popularity ",r.a.createElement("span",null,"\u2191")),r.a.createElement(ce,{value:"POPULARITY_ASC"},"Popularity ",r.a.createElement("span",null,"\u2193")),r.a.createElement(ce,{value:"RELEASE_DATE_DESC"},"Release Date ",r.a.createElement("span",null,"\u2191")),r.a.createElement(ce,{value:"RELEASE_DATE_ASC"},"Release Date ",r.a.createElement("span",null,"\u2193")))))}}]),t}(n.Component),ue=Object(o.b)(function(e){return{activeSorting:e.sortingType}},function(e){return{onSetSorting:function(t){return e({type:h,param:t})}}})(le),me=a(123),pe=a.n(me),de=a(122),ve=a.n(de);a(303);var fe=function(e){var t=e.checked,a=e.onChange,n=e.id,c=e.value,i=e.children;return r.a.createElement("label",{htmlFor:n,className:"toggle-item".concat(t?" active":"")},i,r.a.createElement("input",{name:"view-type",id:n,type:"radio",hidden:!0,onChange:function(){return a(c)},checked:t}))};a(305);var he=function(e){var t=e.activeViewType,a=e.onChangeView;return r.a.createElement("div",{className:"view-toggle"},r.a.createElement(fe,{name:"view-type",id:"toggle-list",onChange:a,checked:"LIST"===t,value:"LIST"},r.a.createElement(ve.a,null)),r.a.createElement(fe,{name:"view-type",id:"toggle-tiles",onChange:a,checked:"TILES"===t,value:"TILES"},r.a.createElement(pe.a,null)))};var Ee=Object(o.b)(function(e){return{activeViewType:e.viewType}},function(e){return{onChangeView:function(t){return e(function(e){return{type:E,viewType:e}}(t))}}})(he),be=function(){var e=navigator.userAgent.toLowerCase();return["iphone","ipad","android","blackberry","nokia","opera mini","windows mobile","windows phone","iemobile"].some(function(t){return e.includes(t)})};function ge(e){function t(t){return r.a.createElement(e,Object.assign({},t,{isMobile:be()}))}return t.displayName="withMobileDetection(".concat(e.displayName||e.name||"Component",")"),t}a(307);function ye(e){var t=e.movies,a=e.fetching,n=e.activeViewType,c=e.isMobile;return a?r.a.createElement(z,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"actions"},r.a.createElement(ue,null),!c&&r.a.createElement(Ee,null)),r.a.createElement("div",{className:"movies-list"},t.length>0?t.map(function(e){return r.a.createElement(st,{key:e.id,movie:e,activeViewType:n})}):"Movies not found"))}ye.defaultProps={movies:[]};var Oe=ge(ye),we=Object(o.b)(function(e){return{movies:se(e),fetching:e.fetching,activeViewType:e.viewType}})(Oe),Se=a(346),je=a(77),Ne=a.n(je),_e=a(78),Ce=(a(309),function(e){function t(){return Object(G.a)(this,t),Object(H.a)(this,Object(J.a)(t).apply(this,arguments))}return Object(X.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props,t=e.getMoviesByGenre,a=e.history,n=e.location;return r.a.createElement("div",{className:"genres-list"},r.a.createElement("div",{className:"genres-label"},"Genres"),r.a.createElement(Ne.a,null,_e.length>0?_e.map(function(e){var c=e.name,i=e.id;return r.a.createElement(Ke,{history:a,location:n,key:i,id:i,name:c,onClick:t})}):"no genres"))}}]),t}(r.a.PureComponent));Ce.defaultProps={getMoviesByGenre:function(){}};var Te=Ce,ke=Object(Se.a)(Object(o.b)(null,function(e){return{getMoviesByGenre:function(t){return e(function(e){return{type:p,genreId:e}}(t))}}})(Te)),xe=ge(function(e){function t(e){var a;return Object(G.a)(this,t),(a=Object(H.a)(this,Object(J.a)(t).call(this,e))).closeSidebar=function(){a.setState({isSidebarOpen:!1})},a.toggleSidebar=function(){a.setState(function(e){return{isSidebarOpen:!e.isSidebarOpen}})},a.state={isSidebarOpen:!1},a}return Object(X.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.props.isMobile,t=this.state.isSidebarOpen;return r.a.createElement("div",{className:"App"},r.a.createElement(ct,{isMobile:e,toggleSidebar:this.toggleSidebar}),r.a.createElement(ut,{isMobile:e,isOpen:t,onClose:this.closeSidebar},r.a.createElement(ke,null)),r.a.createElement(Pe,null,r.a.createElement($.a,null,r.a.createElement(q.a,{exact:!0,path:"/",component:we}),r.a.createElement(q.a,{path:"/movie/:id",render:function(e){return r.a.createElement(mt,e)}}),r.a.createElement(q.a,{component:ht}))))}}]),t}(n.Component));a(312);function Me(e){var t=e.children;return r.a.createElement("div",{className:"content"},t)}Me.defaultProps={children:""};var Pe=Me,Ae=a(126),Le=a(129),Ie=a.n(Le),De=a(130),Re=a.n(De),Ve=a(56),Fe=a.n(Ve),Be=a(128),Ue=a.n(Be),Ye=a(127),Ge=a.n(Ye),We=a(131),He=(a(314),function(e){function t(e){var a;return Object(G.a)(this,t),(a=Object(H.a)(this,Object(J.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(Ae.a)({},n,r))},a.onSubmit=function(e){var t=a.props,n=t.onSubmit,r=t.history,c=t.location,i=a.state.input;e.preventDefault(),i&&("function"===typeof n&&n(i),"/"!==c.pathname&&r.push("/"))},a.state={input:""},a}return Object(X.a)(t,e),Object(W.a)(t,[{key:"render",value:function(){var e=this.state.input,t=this.props.classes;return r.a.createElement("form",{onSubmit:this.onSubmit,className:"search-form"},r.a.createElement(Ge.a,{className:t.formControl},r.a.createElement(Ue.a,{htmlFor:"search-input",classes:{root:t.cssLabel,focused:t.cssFocused}},"Search"),r.a.createElement(Fe.a,{onChange:this.onChange,type:"search",value:e,name:"input",id:"search-input",fullWidth:!0,classes:{underline:t.cssUnderline},className:t.input})),r.a.createElement(Ie.a,{type:"submit","aria-label":"search"},r.a.createElement(Re.a,{className:"search-icon"})))}}]),t}(n.Component));He.defaultProps={onSubmit:function(){}};var Je=Object(We.withStyles)(function(){return{input:{color:"white"},formControl:{marginBottom:6,flexDirection:"row",flexBasis:300},cssLabel:{color:"white","&$cssFocused":{color:"white"}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"white"},borderBottomColor:"white","&:before":{borderBottomColor:"white"}}}})(He),Xe=a(76),$e=a.n(Xe),qe=a(132),Qe=a.n(qe);a(325);function ze(e){var t=e.name,a=e.id,n=e.onClick,c=e.history,i=e.location;return r.a.createElement($e.a,{key:a,button:!0,component:"li",onClick:function(){n(a),"/"!==i.pathname&&c.push("/")}},r.a.createElement(Qe.a,{primary:t}))}ze.defaultProps={onClick:function(){}};var Ke=ze,Ze=a(344),et=a(134),tt=a.n(et),at=Object(Se.a)(Object(o.b)(void 0,function(e){return{onSubmit:function(t){return e(function(e){return{type:m,name:e}}(t))}}})(Je)),nt=a(133),rt=a.n(nt);a(330);var ct=function(e){var t=e.isMobile,a=e.toggleSidebar;return t?r.a.createElement("header",{className:"header mobile"},r.a.createElement(at,null),r.a.createElement("button",{className:"menu-button",type:"button",onClick:a},r.a.createElement(tt.a,{className:"menu-icon"}))):r.a.createElement("header",{className:"header"},r.a.createElement(Ze.a,{to:"/"},r.a.createElement("img",{src:rt.a,alt:"logo",className:"logo"})),r.a.createElement(at,null))},it=(a(332),a(135)),ot=a.n(it);var st=function(e){var t=e.movie,a=e.activeViewType,n=t.poster_path,c=t.title,i=t.release_date,o=t.overview,s=t.id,l="movie-card ".concat(a.toLowerCase()),u=i?ot()(i).format("MMMM D, YYYY"):null,m=o.length>100?"".concat(o.substr(0,97),"..."):o,p=n?"http://image.tmdb.org/t/p/w185/".concat(n):"https://via.placeholder.com/185x278/0000FF/808080";return r.a.createElement("article",{className:l},r.a.createElement("div",{className:"poster"},r.a.createElement("img",{src:p,alt:c,className:"poster-image"})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title-wrapper"},r.a.createElement("h3",{className:"title"},c),u&&r.a.createElement("time",{className:"release-date"},u)),r.a.createElement("div",{className:"description"},m),r.a.createElement("div",{className:"more-info"},r.a.createElement(Ze.a,{to:"/movie/".concat(s),className:"more-info-link"},"More info"))))};a(335);function lt(e){var t=e.children,a=e.isMobile,n=e.isOpen,c=e.onClose,i="sidebar".concat(a?" mobile":"").concat(n?" open":"");return r.a.createElement("div",{className:i},r.a.createElement("button",{type:"button",className:"close-btn",onClick:c},"\xd7"),t)}lt.defaultProps={children:""};var ut=lt,mt=(a(337),function(e){function t(e){var a;return Object(G.a)(this,t),(a=Object(H.a)(this,Object(J.a)(t).call(this,e))).state={fethcing:!0,hasError:!1,movie:null},a}return Object(X.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="/movie/".concat(e,"?api_key=").concat(j).concat(N,"&append_to_response=videos");return S.a.get(t).then(function(e){return e.data})})(this.props.match.params.id).then(function(t){e.setState({movie:t,fethcing:!1,hasError:!1})}).catch(function(t){console.error(t),e.setState({hasError:t.message})})}},{key:"render",value:function(){var e=this.state,t=e.hasError,a=e.fethcing,n=e.movie;if(t)return r.a.createElement("div",{className:"error-message"},"Something went wrong. ",t);if(a)return r.a.createElement(z,null);var c=n.budget,i=n.genres,o=n.title,s=n.release_date,l=n.poster_path,u=n.runtime,m=n.status,p=n.popularity,d=n.overview,v=i.map(function(e){return e.name}),f=l?"http://image.tmdb.org/t/p/original/".concat(l):"https://via.placeholder.com/400x600/0000FF/808080";return r.a.createElement("div",{className:"movie"},r.a.createElement("div",{className:"poster-wrapper"},r.a.createElement("img",{className:"poster",src:f,alt:"".concat(o," poster")})),r.a.createElement("section",{className:"movie-info"},r.a.createElement("h3",{className:"movie-name"},o),r.a.createElement("span",{className:"release-date"},"(",s.substr(0,4),")"),r.a.createElement("div",{className:"status"},r.a.createElement("output",null,m)),r.a.createElement("dl",{className:"info-list"},r.a.createElement("dt",{className:"runtime"},"Runtime"),r.a.createElement("dd",null,u,"m"),r.a.createElement("dt",{className:"popularity"},"Popularity"),r.a.createElement("dd",null,p),r.a.createElement("dt",{className:"genres"},"Genres"),r.a.createElement("dd",null,v.join(", ")),r.a.createElement("dt",{className:"budget"},"Budget"),r.a.createElement("dd",null,c,"$"),r.a.createElement("dt",null,"Overview"),r.a.createElement("dd",null,d))))}}]),t}(n.Component)),pt=a(136),dt=a.n(pt),vt=a(137),ft=a.n(vt);a(339);var ht=function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("div",{className:"message"},r.a.createElement(dt.a,{style:{width:"10rem",height:"10rem"}}),r.a.createElement("h2",null,"Page not found")),r.a.createElement(Ze.a,{to:"/"},r.a.createElement(ft.a,{variant:"contained",color:"primary"},"Home")))};Y.dispatch({type:d}),i.a.render(r.a.createElement(o.a,{store:Y},r.a.createElement(s.a,null,r.a.createElement(xe,null))),document.getElementById("root"))},78:function(e){e.exports=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]}},[[141,2,1]]]);
//# sourceMappingURL=main.b89c946b.chunk.js.map