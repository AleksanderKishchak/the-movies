{"version":3,"sources":["img/logo.png","img/arrow-up.svg","actions/movies.js","reducers/moviesReducer.js","reducers/RootReducer.js","selectors/sortingSelector.js","api/resolvedSortingTypeNames.js","api/apiCalls.js","helpers/getUserLanguage.js","sagas/moviesSaga.js","sagas/rootSaga.js","store.js","components/Loader/Loader.js","components/ActivityGauge/ActivityGauge.js","components/MovieCard/MovieCard.js","components/MoviesList/MoviesList.js","components/withInfiniteScrolling.js","helpers/getDisplayName.js","containers/MoviesListContainer.js","components/SortingBar/StyledMenuItem.js","components/SortingBar/SortingBar.js","containers/SortingBarContainer.js","components/ViewToggle/ToggleItem/ToggleItem.js","components/ViewToggle/ViewToggle.js","containers/ViewToggleContainer.js","components/withMobileDetection.js","pages/MoviesListPage/MoviesListPage.js","components/GenresList/GenreItem/GenreItem.js","components/GenresList/GenresList.js","containers/GenresListContainer.js","components/Sidebar/Sidebar.js","components/Content/Content.js","components/Form/Form.js","containers/FormContainer.js","components/Header/Header.js","pages/MoviePage/MoviePage.js","components/NotFound/NotFound.js","components/GoUp/GoUp.js","components/App/App.js","index.js"],"names":["module","exports","__webpack_require__","p","ADD_MOVIES_SUCCESS","GET_GENRES","GET_MOVIES_FAILED","GET_MOVIES_BY_PARAM","GET_MOVIES_SUCCESS","LOAD_MORE","MOVIES_REQUEST","SET_SORTING","SET_VIEW_TYPE","SET_SEARCH_TEXT","requestMovies","type","getMoviesSuccess","movies","URL","totalPages","getMoviesFailed","addMovies","getGenres","genres","setSearchText","text","getMoviesByParams","params","Object","objectSpread","initialState","fetching","currentPage","lastFetchURL","viewType","sortingType","searchText","error","combineReducers","state","arguments","length","undefined","action","concat","toConsumableArray","param","getSortedMovies","createSelector","newMovies","sort","movie1","movie2","popularity","_ref","release_date","date1","date2","_ref2","resolvedSortingTypeNames","_POPULARITY_ASC$POPUL","defineProperty","axios","defaults","baseURL","apiKey","process","language","window","navigator","callApi","url","get","then","response","data","catch","getURLbyParams","page","name","genreId","formattedSorting","resolvedSortingNames","activeSorting","getMovies","getMoreMovies","getGenresSaga","watchGettingMovies","regenerator_default","a","wrap","_context","prev","next","put","call","sent","results","total_pages","t0","console","stop","_marked","this","nextPageURL","_context2","select","abrupt","replace","_marked2","_context3","_marked3","_context4","takeLatest","_marked4","rootSaga","all","rootSaga_marked","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","run","Loader","wrapperStyle","react_default","createElement","className","style","defaultProps","HCMore","Highcharts","SolidGauge","ActivityGauge","value","options","chart","height","backgroundColor","margin","title","tooltip","enabled","pane","startAngle","endAngle","background","outerRadius","innerRadius","Color","getOptions","colors","setOpacity","borderWidth","yAxis","min","max","lineWidth","tickPositions","plotOptions","solidgauge","dataLabels","defer","y","x","color","useHTML","fontSize","linecap","rounded","series","radius","highcharts_react_min_default","highcharts","allowChartUpdate","MovieCard","_this$props$movie","props","movie","poster_path","overview","id","vote_average","releaseDate","moment","format","movieOverview","substr","posterUrl","src","alt","ActivityGauge_ActivityGauge","Link","to","Component","MoviesList","loaderWrapperStyles","minHeight","prevProps","_this$props","reachedBottom","loadMore","_this$props2","activeViewType","components_Loader_Loader","Fragment","toLowerCase","map","components_MovieCard_MovieCard","key","PureComponent","trashold","getDisplayName","displayName","withInfiniteScrolling","_PureComponent","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","onScroll","availDocumentHeight","document","documentElement","clientHeight","distanceToBottom","scroller","getBoundingClientRect","bottom","setState","getScrollerRef","node","inherits","createClass","addEventListener","removeEventListener","assign","ref","connect","_ref$movies","dispatch","styles","display","justifyContent","minWidth","StyledMenuItem","children","rest","objectWithoutProperties","MenuItem_default","SortingBar","selectStyles","marginLeft","handleChange","e","target","onSetSorting","Select_default","onChange","inputProps","SortingBar_StyledMenuItem","ToggleItem","checked","htmlFor","hidden","onlyUpdateForKeys","onChangeView","ViewToggle_ToggleItem_ToggleItem","ViewList_default","ViewModule_default","setViewType","ViewToggle","detectMobile","ua","userAgent","some","mobile","includes","withMobileDetection","WithMobileDetection","isMobile","SortingBarContainer","ViewToggleContainer","MoviesListContainer","GenreItem","onClick","ListItem_default","button","component","ListItemText_default","disableTypography","primary","shouldUpdate","GenreList","sideEffectsOnClick","history","location","clearSearchInput","pathname","push","redirectIfNotOnMain","nextProps","_this$props3","getMoviesByGenre","List_default","GenresList_GenreItem_GenreItem","withRouter","GenresList","Sidebar","isOpen","onClose","sidebarClasses","role","Content","Form","onInputChange","onSubmit","preventDefault","classes","FormControl_default","formControl","InputLabel_default","root","cssLabel","focused","cssFocused","Input_default","fullWidth","underline","cssUnderline","input","IconButton_default","aria-label","Search_default","withStyles","marginBottom","flexDirection","flexBasis","&$cssFocused","&:after","borderBottomColor","&:before","toggleSidebar","FormContainer","Menu_default","logo","MoviePage","fethcing","hasError","_this2","match","message","_this$state","budget","runtime","status","genresName","genre","join","iconStyles","width","NotFound","BugReport_default","Button_default","variant","GoUp","visible","scrollY","scrollTo","top","behavior","arrow","App","closeSidebar","isSidebarOpen","components_GoUp_GoUp","components_Header_Header","components_Sidebar_Sidebar","GenresListContainer","components_Content_Content","Switch","Route","exact","path","MoviesListPage","render","pages_MoviePage_MoviePage","ReactDOM","es","BrowserRouter","basename","components_App_App","getElementById"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,ulBCA3BC,EAAqB,qBACrBC,EAAa,aACbC,EAAoB,oBACpBC,EAAsB,sBACtBC,EAAqB,qBACrBC,EAAY,YACZC,EAAiB,iBACjBC,EAAc,cACdC,EAAgB,gBAChBC,EAAkB,kBAgBxB,SAASC,IACd,MAAO,CAAEC,KAAML,GAGV,SAASM,EAAiBC,EAAQC,EAAKC,GAC5C,MAAO,CACLJ,KAAMP,EACNS,SACAC,MACAC,cAIG,SAASC,IACd,MAAO,CAAEL,KAAMT,GAGV,SAASe,EAAUJ,GACxB,MAAO,CACLF,KAAMX,EACNa,UAUG,SAASK,EAAUC,GACxB,MAAO,CACLR,KAAMV,EACNkB,UAIG,SAASC,EAAcC,GAC5B,MAAO,CACLV,KAAMF,EACNY,QAIG,SAASC,EAAkBC,GAChC,OAAOC,OAAAC,EAAA,EAAAD,CAAA,CACLb,KAAMR,GACHoB,GC7DP,IAAMG,EAAe,CACnBC,UAAU,EACVd,OAAQ,GACRe,YAAa,EACbb,WAAY,IACZc,aAAc,GACdC,SAAU,OACVC,YAAa,kBACbC,WAAY,GACZC,OAAO,EACPd,OAAQ,ICjBKe,oBAAgB,CAC7BrB,ODmBa,WAAsD,IAArCsB,EAAqCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAAZ,OAAAC,EAAA,EAAAD,CAAA,GAAxBE,GAAgBa,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACnE,OAAQC,EAAO5B,MACb,KAAKV,EACH,OAAOuB,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBhB,OAAQoB,EAAOpB,SAEpC,KAAKb,EACH,OAAOkB,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBR,UAAU,IAE/B,KAAKzB,EACH,OAAOsB,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBR,UAAU,EAAOM,OAAO,IAE7C,KAAK7B,EACH,OAAOoB,OAAAC,EAAA,EAAAD,CAAA,GACFW,EADL,CAEEtB,OAAQ0B,EAAO1B,OACfc,UAAU,EACVM,OAAO,EACPJ,aAAcU,EAAOzB,IACrBC,WAAYwB,EAAOxB,aAGvB,KAAKf,EACH,OAAOwB,OAAAC,EAAA,EAAAD,CAAA,GACFW,EADL,CAEEP,YAAaO,EAAMP,YAAc,EACjCf,OAAM,GAAA2B,OAAAhB,OAAAiB,EAAA,EAAAjB,CAAMW,EAAMtB,QAAZW,OAAAiB,EAAA,EAAAjB,CAAuBe,EAAO1B,SACpCc,UAAU,EACVM,OAAO,IAGX,KAAK1B,EACH,OAAOiB,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBJ,YAAaQ,EAAOG,QAEzC,KAAKlC,EACH,OAAOgB,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBL,SAAUS,EAAOT,WAEtC,KAAKrB,EACH,OAAOe,OAAAC,EAAA,EAAAD,CAAA,GAAKW,EAAZ,CAAmBH,WAAYO,EAAOlB,OAExC,QACE,OAAOc,iEEtDAQ,EAAkBC,YAC7B,CAJgB,SAAAT,GAAK,OAAIA,EAAMtB,QACV,SAAAsB,GAAK,OAAIA,EAAMJ,cAIpC,SAAClB,EAAQkB,GACP,IAAMc,EAASrB,OAAAiB,EAAA,EAAAjB,CAAOX,GACtB,OAAQkB,GACN,IAbyB,kBAcvB,OAAOc,EAAUC,KAAK,SAACC,EAAQC,GAAT,OAAoBA,EAAOC,WAAaF,EAAOE,aAEvE,IAfwB,iBAgBtB,OAAOJ,EAAUC,KAAK,SAACC,EAAQC,GAAT,OAAoBD,EAAOE,WAAaD,EAAOC,aAEvE,IAjB2B,oBAkBzB,OAAOJ,EAAUC,KAAK,SAACC,EAAQC,GAAW,IAAAE,EACjB,CAACH,EAAOI,aAAcH,EAAOG,cAA7CC,EADiCF,EAAA,GAC1BG,EAD0BH,EAAA,GAGxC,OAAIG,EAAQD,EAAc,EACtBC,EAAQD,GAAe,EAEpB,IAGX,IA1B0B,mBA2BxB,OAAOP,EAAUC,KAAK,SAACC,EAAQC,GAAW,IAAAM,EACjB,CAACP,EAAOI,aAAcH,EAAOG,cAA7CC,EADiCE,EAAA,GAC1BD,EAD0BC,EAAA,GAGxC,OAAID,EAAQD,EAAc,EACtBC,EAAQD,GAAe,EAEpB,IAGX,QACE,OAAOvC,KCnCf0C,GAAAC,EAAA,GAAAhC,OAAAiC,EAAA,EAAAjC,CAAAgC,EDJ8B,iBCKV,kBADpBhC,OAAAiC,EAAA,EAAAjC,CAAAgC,EDL+B,kBCOV,kBAFrBhC,OAAAiC,EAAA,EAAAjC,CAAAgC,EDFgC,mBCKV,oBAHtBhC,OAAAiC,EAAA,EAAAjC,CAAAgC,EDHiC,oBCOV,qBAJvBA,GCFAE,IAAMC,SAASC,QAAU,+BAEzB,IAAMC,EAASC,mCACTC,EAAQ,aAAAvB,OCROwB,OAAOC,UAAUF,UDU/B,SAASG,EAAQC,GACtB,OAAOT,IACJU,IAAID,GACJE,KAAK,SAAAC,GAAQ,OAAIA,EAASC,OAC1BC,MAAM,SAAAvC,GACL,MAAMA,IAWL,SAASwC,IAAsC,IAAvBlD,EAAuBa,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAd,GAAIsC,EAAUtC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAH,EAEjD,GAAIb,EAAOoD,KACT,8BAAAnC,OAA+BqB,EAA/B,WAAArB,OAA+CjB,EAAOoD,MAAtDnC,OAA6DuB,EAA7D,UAAAvB,OAA8EkC,GAIhF,GAAInD,EAAOqD,QAAS,CAClB,IAAMC,EAAmBC,EAAqBvD,EAAOwD,eAErD,iCAAAvC,OAAkCqB,EAAlC,aAAArB,OAAoDqC,GAApDrC,OAAuEuB,EAAvE,UAAAvB,OAAwFkC,EAAxF,iBAAAlC,OACEjB,EAAOqD,SAIX,+BAAApC,OAAgCqB,GAAhCrB,OAAyCuB,EAAzC,UAAAvB,OAA0DkC,kBE1BlDM,cAcAC,cAmBOC,cAKQC,GAtCzB,SAAUH,EAAUzC,GAApB,IAAAzB,EAAAyD,EAAA1D,EAAAE,EAAA,OAAAqE,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEI,OAFJF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEUC,YAAIhF,KAFd,OAGgB,OAHhB6E,EAAAE,KAAA,EAGsBE,YAAKlB,EAAgBlC,GAH3C,OAIiB,OADPzB,EAHVyE,EAAAK,KAAAL,EAAAE,KAAA,EAIuBE,YAAKzB,EAASpD,GAJrC,OAOI,OAHMyD,EAJVgB,EAAAK,KAKqB/E,EAAoC0D,EAA7CsB,QAA8B9E,EAAewD,EAA5BuB,YAL7BP,EAAAE,KAAA,GAOUC,YAAI9E,EAAiBC,EAAQC,EAAKC,IAP5C,QAAAwE,EAAAE,KAAA,iBAUI,OAVJF,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SASIS,QAAQ/D,MAARsD,EAAAQ,IATJR,EAAAE,KAAA,GAUUC,YAAI1E,KAVd,yBAAAuE,EAAAU,SAAAC,EAAAC,KAAA,UAcA,SAAUlB,IAAV,IAAA/B,EAAArB,EAAAD,EAAAb,EAAAqF,EAAA7B,EAAA1D,EAAA,OAAAuE,EAAAC,EAAAC,KAAA,SAAAe,GAAA,cAAAA,EAAAb,KAAAa,EAAAZ,MAAA,OAEsD,OAFtDY,EAAAb,KAAA,EAAAa,EAAAZ,KAAA,EAE4Da,YAAO,SAAAnE,GAAK,OAAIA,EAAMtB,SAFlF,UAAAqC,EAAAmD,EAAAT,KAEY/D,EAFZqB,EAEYrB,aAAcD,EAF1BsB,EAE0BtB,YAAab,EAFvCmC,EAEuCnC,aAE/Ba,GAAeb,GAJvB,CAAAsF,EAAAZ,KAAA,eAAAY,EAAAE,OAAA,iBAQI,OARJF,EAAAZ,KAAA,GAQUC,YAAIhF,KARd,QAUiB,OADP0F,EAAcvE,EAAa2E,QAAQ,SAArB,QAAAhE,OAAuCZ,EAAc,IAT7EyE,EAAAZ,KAAA,GAUuBE,YAAKzB,EAASkC,GAVrC,QAYI,OAFM7B,EAVV8B,EAAAT,KAWU/E,EAAS0D,EAAKsB,QAXxBQ,EAAAZ,KAAA,GAYUC,YAAIzE,EAAUJ,IAZxB,QAAAwF,EAAAZ,KAAA,iBAeI,OAfJY,EAAAb,KAAA,GAAAa,EAAAN,GAAAM,EAAA,SAcIL,QAAQ/D,MAARoE,EAAAN,IAdJM,EAAAZ,KAAA,GAeUC,YAAI1E,KAfd,yBAAAqF,EAAAJ,SAAAQ,EAAAN,KAAA,UAmBO,SAAUjB,IAAV,IAAA/D,EAAA,OAAAiE,EAAAC,EAAAC,KAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,OACU,OADViB,EAAAjB,KAAA,EACgBE,YAAKzB,EFJ1B,6BAAA1B,OAAoCqB,GAApCrB,OAA6CuB,IEGxC,OAEL,OADM5C,EADDuF,EAAAd,KAAAc,EAAAjB,KAAA,EAECC,YAAIxE,EAAUC,EAAOA,SAFtB,wBAAAuF,EAAAT,SAAAU,EAAAR,MAKQ,SAAUhB,IAAV,OAAAC,EAAAC,EAAAC,KAAA,SAAAsB,GAAA,cAAAA,EAAApB,KAAAoB,EAAAnB,MAAA,OACb,OADamB,EAAAnB,KAAA,EACPoB,YAAW1G,EAAqB6E,GADzB,OAEb,OAFa4B,EAAAnB,KAAA,EAEPoB,YAAWxG,EAAW4E,GAFf,wBAAA2B,EAAAX,SAAAa,EAAAX,sBCjDUY,IAAV,SAAUA,KAAV,OAAA3B,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACb,OADaF,EAAAE,KAAA,EACPuB,YAAI,CAAC7B,IAAsBD,MADpB,wBAAAK,EAAAU,SAAAgB,GAAAd,MCEf,IAAMe,GAAiBC,cAEjBC,GAAmBpD,OAAOqD,sCAAwCC,IAClEC,GAAQC,YACZC,EACAL,GAAiBM,YAAgBR,MAGnCA,GAAeS,IAAIZ,IAEJQ,2FCXf,SAASK,GAAT1E,GAAkC,IAAhB2E,EAAgB3E,EAAhB2E,aAChB,OACEC,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,cAAcC,MAAOJ,GAClCC,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,YASrBJ,GAAOM,aAAe,CACpBL,aAAc,IAGDD,4HCdfO,KAAOC,MACPC,KAAWD,MAoFIE,OAlFf,SAAApF,GAAkC,IAATqF,EAASrF,EAATqF,MAEjBC,EAAU,CACdC,MAAO,CACL9H,KAAM,aACN+H,OAAQ,OACRC,gBAAiB,OACjBX,UAAW,WACXY,OAAQ,CAAC,EAAG,EAAG,EAAG,IAGpBC,MAAO,CACLxH,KAAM,IAGRyH,QAAS,CACPC,SAAS,GAGXC,KAAM,CACJC,WAAY,EACZC,SAAU,IACVC,WAAY,CAEVC,YAAa,MACbC,YAAa,MACbV,gBAAiBP,KAAWkB,MAAMlB,KAAWmB,aAAaC,OAAO,IAC9DC,WAAW,IACXrF,MACHsF,YAAa,IAIjBC,MAAO,CACLC,IAAK,EACLC,IAAK,GACLC,UAAW,EACXC,cAAe,IAGjBC,YAAa,CACXC,WAAY,CACVC,WAAY,CACVnB,SAAS,EACTJ,gBAAiB,OACjBe,YAAa,EACbS,OAAO,EACPC,GAAI,GACJC,GAAI,EACJC,MAAOlC,KAAWmB,aAAaC,OAAO,GACtCe,SAAS,EACTtC,MAAO,CACLuC,SAAU,WAGdC,QAAS,QACTC,SAAS,IAIbC,OAAQ,CACN,CACEhG,KAAM,aACNJ,KAAM,CACJ,CACE+F,MAAOlC,KAAWmB,aAAaC,OAAO,GACtCoB,OAAQ,MACRvB,YAAa,MACbe,EAAG7B,OAOb,OAAOT,EAAAzC,EAAA0C,cAAC8C,GAAAxF,EAAD,CAAiByF,WAAY1C,KAAYI,QAASA,EAASuC,kBAAkB,KCzBvEC,gNAlDX,OAAO,mCAGA,IAAAC,EAKH9E,KAAK+E,MAHPC,MACEC,EAHGH,EAGHG,YAAavC,EAHVoC,EAGUpC,MAAO1F,EAHjB8H,EAGiB9H,aAAckI,EAH/BJ,EAG+BI,SAAUC,EAHzCL,EAGyCK,GAAIC,EAH7CN,EAG6CM,aAI9CC,EAAcrI,EAAesI,KAAOtI,GAAcuI,OAAO,gBAAkB,KAC3EC,EAAgBN,EAAShJ,OAAS,IAAlB,GAAAG,OAA2B6I,EAASO,OAAO,EAAG,IAA9C,OAAyDP,EACzEQ,EAAYT,EAAW,kCAAA5I,OACS4I,GAClC,oDAEJ,OACEtD,EAAAzC,EAAA0C,cAAA,WAASC,UAAU,cACjBF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,UACbF,EAAAzC,EAAA0C,cAAA,OAAK+D,IAAKD,EAAWE,IAAKlD,EAAOb,UAAU,kBAG7CF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,QACbF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,iBACbF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,cACbF,EAAAzC,EAAA0C,cAACiE,GAAD,CAAezD,MAAOgD,KAExBzD,EAAAzC,EAAA0C,cAAA,WACED,EAAAzC,EAAA0C,cAAA,MAAIC,UAAU,SAASa,GACtB2C,GAAe1D,EAAAzC,EAAA0C,cAAA,QAAMC,UAAU,gBAAgBwD,KAIpD1D,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,eAAe2D,GAE9B7D,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,aACbF,EAAAzC,EAAA0C,cAACkE,GAAA,EAAD,CAAMC,GAAE,UAAA1J,OAAY8I,GAAMtD,UAAU,kBAApC,uBAtCYmE,cCDlBC,yNAgBJC,oBAAsB,CACpBC,UAAW,2GAGMC,GAAW,IAAAC,EACQrG,KAAK+E,MAAjCuB,EADoBD,EACpBC,cAAeC,EADKF,EACLE,UAElBH,EAAUE,eAAiBA,GAC9BC,qCAIK,IAAAC,EAGHxG,KAAK+E,MADPrK,EAFK8L,EAEL9L,OAAQc,EAFHgL,EAEGhL,SAAUiL,EAFbD,EAEaC,eAAgB3K,EAF7B0K,EAE6B1K,MAGpC,OAAIN,IAAad,EAAOwB,OAAS,EACxByF,EAAAzC,EAAA0C,cAAC8E,GAAD,CAAQhF,aAAc1B,KAAKkG,sBAIlCvE,EAAAzC,EAAA0C,cAAAD,EAAAzC,EAAAyH,SAAA,KACEhF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAS,eAAAxF,OAAiBoK,EAAeG,gBAC3ClM,EAAOwB,OAAS,EACbxB,EAAOmM,IAAI,SAAA7B,GAAK,OAAIrD,EAAAzC,EAAA0C,cAACkF,GAAD,CAAWC,IAAK/B,EAAMG,GAAIH,MAAOA,OACpDxJ,IAAaM,GAAS,oBAE5BA,EAAQ6F,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,iBAAf,yBAA6D,KACrErG,EAAWmG,EAAAzC,EAAA0C,cAAC8E,GAAD,MAAa,aA7CRM,kBAAnBf,GAUGlE,aAAe,CACpBrH,OAAQ,GACR4L,eAAe,EACfC,SAAU,cAsCCN,ICtDAgB,GDsDAhB,ME1DAiB,GAAA,SAAAlB,GAAS,OAAIA,EAAUmB,aAAenB,EAAUxH,MAAQ,aCuBxD2C,iBFnBA8F,GEoBS,IFpBG,SAAAjB,GAAa,IAChCoB,EADgC,SAAAC,GAEpC,SAAAD,EAAYrC,GAAO,IAAAuC,EAAA,OAAAjM,OAAAkM,GAAA,EAAAlM,CAAA2E,KAAAoH,IACjBE,EAAAjM,OAAAmM,GAAA,EAAAnM,CAAA2E,KAAA3E,OAAAoM,GAAA,EAAApM,CAAA+L,GAAA5H,KAAAQ,KAAM+E,KAiBR2C,SAAW,WACT,IAAMC,EAAsBC,SAASC,gBAAgBC,aAC/CC,EAAmBT,EAAKU,SAASC,wBAAwBC,OAASP,EAChErB,EAAkBgB,EAAKtL,MAAvBsK,cAEJyB,EAAmBd,KAAaX,EAClCgB,EAAKa,SAAS,CAAE7B,eAAe,IACtByB,EAAmBd,IAAYX,GACxCgB,EAAKa,SAAS,CAAE7B,eAAe,KA1BhBgB,EA8BnBc,eAAiB,SAAAC,GACff,EAAKU,SAAWK,GA5BhBf,EAAKtL,MAAQ,CACXsK,eAAe,GAJAgB,EAFiB,OAAAjM,OAAAiN,GAAA,EAAAjN,CAAA+L,EAAAC,GAAAhM,OAAAkN,GAAA,EAAAlN,CAAA+L,EAAA,EAAAL,IAAA,oBAAA3E,MAAA,WAW9BpC,KAAKgI,UACPnK,OAAO2K,iBAAiB,SAAUxI,KAAK0H,YAZP,CAAAX,IAAA,uBAAA3E,MAAA,WAiBlCvE,OAAO4K,oBAAoB,SAAUzI,KAAK0H,YAjBR,CAAAX,IAAA,SAAA3E,MAAA,WAoC3B,IACCkE,EAAkBtG,KAAKhE,MAAvBsK,cAER,OACE3E,EAAAzC,EAAA0C,cAAAD,EAAAzC,EAAAyH,SAAA,KACEhF,EAAAzC,EAAA0C,cAACoE,EAAD3K,OAAAqN,OAAA,GAAe1I,KAAK+E,MAApB,CAA2BuB,cAAeA,KAC1C3E,EAAAzC,EAAA0C,cAAA,OAAKE,MAAO,CAAES,OAAQ,GAAKoG,IAAK3I,KAAKoI,sBA1CPhB,EAAA,CACFJ,iBAiDpC,OAFAI,EAAsBD,YAAtB,yBAAA9K,OAA6D6K,GAAelB,GAA5E,KAEOoB,IE7BPwB,YAjBsB,SAAA7L,GAAA,IAAA8L,EAAA9L,EACtBrC,OACEA,EAFoBmO,EAEpBnO,OAAQc,EAFYqN,EAEZrN,SAAUG,EAFEkN,EAEFlN,SAAUG,EAFR+M,EAEQ/M,MAAOF,EAFfiN,EAEejN,YAFf,MAIjB,CACLE,QACAN,WACAd,OAAQ8B,EAAgB,CAAE9B,SAAQkB,gBAClC6K,eAAgB9K,IAGS,SAAAmN,GAAQ,MAAK,CACtCvC,SAAU,kBAAMuC,EhB8BT,CACLtO,KAAMN,QgB5BKiH,CAMb8E,wDCzBI8C,GAAS,CACbC,QAAS,OACTC,eAAgB,gBAChBC,SAAU,QAGZ,SAASC,GAATpM,GAA+C,IAArBqM,EAAqBrM,EAArBqM,SAAaC,EAAQhO,OAAAiO,GAAA,EAAAjO,CAAA0B,EAAA,cAC7C,OACE4E,EAAAzC,EAAA0C,cAAC2H,GAAArK,EAAD7D,OAAAqN,OAAA,GAAcW,EAAd,CAAoBvH,MAAOiH,KACxBK,GASPD,GAAepH,aAAe,CAC5BqH,SAAU,IAGGD,UCyCAK,yNA/CbC,aAAe,CACbC,WAAY,MAGdC,aAAe,SAAAC,GAAK,IACVxH,EAAUwH,EAAEC,OAAZzH,MADUiE,EAEsBiB,EAAKvC,MAArC+E,EAFUzD,EAEVyD,aAEJ1H,IAJciE,EAEIzH,eAGpBkL,EAAa1H,8EAIR,IACCxD,EAAkBoB,KAAK+E,MAAvBnG,cACR,OACE+C,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,WACbF,EAAAzC,EAAA0C,cAAA,QAAMC,UAAU,iBAAhB,YACAF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,kBACbF,EAAAzC,EAAA0C,cAACmI,GAAA7K,EAAD,CACE4C,MAAO9B,KAAKyJ,aACZrH,MAAOxD,EACPoL,SAAUhK,KAAK2J,aACfM,WAAY,CACVzL,KAAM,MACN2G,GAAI,eAGNxD,EAAAzC,EAAA0C,cAACsI,GAAD,CAAgB9H,Mf9CG,mBe8CnB,cACaT,EAAAzC,EAAA0C,cAAA,uBAEbD,EAAAzC,EAAA0C,cAACsI,GAAD,CAAgB9H,MfhDE,kBegDlB,cACaT,EAAAzC,EAAA0C,cAAA,uBAEbD,EAAAzC,EAAA0C,cAACsI,GAAD,CAAgB9H,MflDK,qBekDrB,gBACeT,EAAAzC,EAAA0C,cAAA,uBAEfD,EAAAzC,EAAA0C,cAACsI,GAAD,CAAgB9H,MfpDI,oBeoDpB,gBACeT,EAAAzC,EAAA0C,cAAA,iCA5CFoF,kBCDV4B,eARS,SAAA7L,GAAA,MAAiB,CACvC6B,cADsB7B,EAAGrC,OACHkB,cAGG,SAAAkN,GAAQ,MAAK,CACtCgB,aAAc,SAAAlO,GAAW,OAAIkN,EnBStB,CACLtO,KAAMJ,EACNmC,MmBX+CX,OAGpCgN,CAGbY,qDCeaW,OA1Bf,SAAApN,GAEG,IADDqN,EACCrN,EADDqN,QAASJ,EACRjN,EADQiN,SAAU7E,EAClBpI,EADkBoI,GAAI/C,EACtBrF,EADsBqF,MAAOgH,EAC7BrM,EAD6BqM,SAE9B,OACEzH,EAAAzC,EAAA0C,cAAA,SAAOyI,QAASlF,EAAItD,UAAS,cAAAxF,OAAgB+N,EAAU,UAAY,KAChEhB,EACDzH,EAAAzC,EAAA0C,cAAA,SACEpD,KAAK,YACL2G,GAAIA,EACJ3K,KAAK,QACL8P,QAAM,EACNN,SAAU,kBAAMA,EAAS5H,IACzBgI,QAASA,aCuBFG,oBAAkB,CAAC,kBAAnBA,CA/Bf,SAAAxN,GAAsD,IAAhC0J,EAAgC1J,EAAhC0J,eAAgB+D,EAAgBzN,EAAhByN,aACpC,OACE7I,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,eACbF,EAAAzC,EAAA0C,cAAC6I,GAAD,CACEjM,KAAK,YACL2G,GAAG,cACH6E,SAAUQ,EACVJ,QAA4B,SAAnB3D,EACTrE,MAAM,QAENT,EAAAzC,EAAA0C,cAAC8I,GAAAxL,EAAD,OAGFyC,EAAAzC,EAAA0C,cAAC6I,GAAD,CACEjM,KAAK,YACL2G,GAAG,eACH6E,SAAUQ,EACVJ,QAA4B,UAAnB3D,EACTrE,MAAM,SAENT,EAAAzC,EAAA0C,cAAC+I,GAAAzL,EAAD,UCZO0J,mBAZf,SAAA7L,GACE,MAAO,CACL0J,eAFiC1J,EAAVrC,OAEAiB,WAI3B,SAA4BmN,GAC1B,MAAO,CACL0B,aAAc,SAAA7O,GAAQ,OAAImN,EtBFvB,SAAqBnN,GAC1B,MAAO,CACLnB,KAAMH,EACNsB,YsBDmCiP,CAAYjP,OAIpCiN,CAGbiC,IChBIC,GAAe,WACnB,IAWMC,EAAKjN,UAAUkN,UAAUpE,cAC/B,MAZgB,CACd,SACA,OACA,UACA,aACA,QACA,aACA,iBACA,gBACA,YAGaqE,KAAK,SAAAC,GAAM,OAAIH,EAAGI,SAASD,MAG7B,SAASE,GAAoBpF,GAC1C,SAASqF,EAAoBtG,GAC3B,OAAOpD,EAAAzC,EAAA0C,cAACoE,EAAD3K,OAAAqN,OAAA,GAAe3D,EAAf,CAAsBuG,SAAUR,QAKzC,OAFAO,EAAoBlE,YAApB,uBAAA9K,OAAyD6K,GAAelB,GAAxE,KAEOqF,SCFMD,UAhBf,SAAArO,GAAsC,IAAZuO,EAAYvO,EAAZuO,SACxB,OACE3J,EAAAzC,EAAA0C,cAAAD,EAAAzC,EAAAyH,SAAA,KACEhF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,WACbF,EAAAzC,EAAA0C,cAAC2J,GAAD,OACED,GAAY3J,EAAAzC,EAAA0C,cAAC4J,GAAD,OAEhB7J,EAAAzC,EAAA0C,cAAC6J,GAAD,4GCRN,SAASC,GAAT3O,GAA0C,IAArByB,EAAqBzB,EAArByB,KAAM2G,EAAepI,EAAfoI,GAAIwG,EAAW5O,EAAX4O,QAC7B,OACEhK,EAAAzC,EAAA0C,cAACgK,GAAA1M,EAAD,CACE6H,IAAK5B,EACL0G,QAAM,EACNC,UAAU,KACVH,QAAS,WACPA,EAAQxG,KAGVxD,EAAAzC,EAAA0C,cAACmK,GAAA7M,EAAD,CAAc8M,mBAAiB,EAACC,QAASzN,EAAMqD,UAAU,gBAW/D6J,GAAU3J,aAAe,CACvB4J,QAAS,cAGIO,oBAAa,kBAAM,GAAnBA,CAA0BR,eCpBnCS,iNAOJC,mBAAqB,WAAM,IAAA/F,EACuBiB,EAAKvC,MAA7CsH,EADiBhG,EACjBgG,QAASC,EADQjG,EACRiG,SAAUC,EADFlG,EACEkG,kBAd/B,SAA6BF,EAASC,GACV,MAAtBA,EAASE,UACXH,EAAQI,KAAK,KAcbC,CAAoBL,EAASC,GAC7BC,4FAVoBI,GAAW,IAAAnG,EACFxG,KAAK+E,MAA1B/J,EADuBwL,EACvBxL,OAAQsR,EADe9F,EACf8F,SAEhB,OAAOtR,IAAW2R,EAAU3R,QAAUsR,EAASE,WAAaG,EAAUL,SAASE,0CAUxE,IAAAI,EAC8B5M,KAAK+E,MAAlC8H,EADDD,EACCC,iBAAkB7R,EADnB4R,EACmB5R,OAE1B,OACE2G,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,eACbF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,gBAAf,UACAF,EAAAzC,EAAA0C,cAACkL,GAAA5N,EAAD,CAAMyM,QAAS3L,KAAKoM,oBACjBpR,EAAOkB,OAAS,EACblB,EAAO6L,IAAI,SAAA9J,GAAA,IAAGyB,EAAHzB,EAAGyB,KAAM2G,EAATpI,EAASoI,GAAT,OACXxD,EAAAzC,EAAA0C,cAACmL,GAAD,CAAWhG,IAAK5B,EAAIA,GAAIA,EAAI3G,KAAMA,EAAMmN,QAASkB,MAEjD,qBAzBU7G,aAwCxBmG,GAAUpK,aAAe,CACvB8K,iBAAkB,aAClBN,iBAAkB,aAClBvR,OAAQ,IAGKmR,UC3CAhL,QACb6L,KACApE,YAXsB,SAAA5M,GAAK,MAAK,CAChChB,OAAQgB,EAAMtB,OAAOM,SAGI,SAAA8N,GAAQ,MAAK,CACtC+D,iBAAkB,SAAApO,GAAO,OAAIqK,EAAS3N,EAAkB,CAAEsD,cAC1D8N,iBAAkB,kBAAMzD,EAAS7N,EAAc,SAGlCkG,CAMb8L,WCjBF,SAASC,GAATnQ,GAEG,IADDqM,EACCrM,EADDqM,SAAUkC,EACTvO,EADSuO,SAAU6B,EACnBpQ,EADmBoQ,OAAQC,EAC3BrQ,EAD2BqQ,QAEtBC,EAAc,UAAAhR,OAAaiP,EAAW,UAAY,IAApCjP,OAAyC8Q,EAAS,QAAU,IAChF,OACExL,EAAAzC,EAAA0C,cAAA,OAAKC,UAAWwL,EAAgB1B,QAASyB,EAASE,KAAK,cACrD3L,EAAAzC,EAAA0C,cAAA,UAAQpH,KAAK,SAASqH,UAAU,YAAY8J,QAASyB,GAArD,QAGChE,GAYP8D,GAAQnL,aAAe,CACrBqH,SAAU,IAGG8D,iBCzBf,SAASK,GAATxQ,GAA+B,IAAZqM,EAAYrM,EAAZqM,SACjB,OAAOzH,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,WAAWuH,GAOnCmE,GAAQxL,aAAe,CACrBqH,SAAU,IAGGmE,sKCsBTC,yNAUJxD,SAAW,SAAAJ,GAAK,IACNxH,EAAUwH,EAAEC,OAAZzH,OAGRqL,EAF0BnG,EAAKvC,MAAvB0I,eAEMrL,MAGhBsL,SAAW,SAAA9D,GAAK,IAAAvD,EAC0BiB,EAAKvC,MAArC2I,EADMrH,EACNqH,SAAUrB,EADJhG,EACIgG,QAASC,EADbjG,EACaiG,SACnBzQ,EAAeyL,EAAKvC,MAApBlJ,WACR+N,EAAE+D,iBAEG9R,IAEmB,oBAAb6R,GACTA,EAAS7R,GAGe,MAAtByQ,EAASE,UACXH,EAAQI,KAAK,iFAIR,IAAAjG,EACyBxG,KAAK+E,MAA7B6I,EADDpH,EACCoH,QAAS/R,EADV2K,EACU3K,WAEjB,OACE8F,EAAAzC,EAAA0C,cAAA,QAAM8L,SAAU1N,KAAK0N,SAAU7L,UAAU,eACvCF,EAAAzC,EAAA0C,cAACiM,GAAA3O,EAAD,CAAa2C,UAAW+L,EAAQE,aAC9BnM,EAAAzC,EAAA0C,cAACmM,GAAA7O,EAAD,CACEmL,QAAQ,eACRuD,QAAS,CACPI,KAAMJ,EAAQK,SACdC,QAASN,EAAQO,aAJrB,UASAxM,EAAAzC,EAAA0C,cAACwM,GAAAlP,EAAD,CACE8K,SAAUhK,KAAKgK,SACfxP,KAAK,SACL4H,MAAOvG,EACP2C,KAAK,eACL2G,GAAG,eACHkJ,WAAS,EACTT,QAAS,CACPU,UAAWV,EAAQW,cAErB1M,UAAW+L,EAAQY,SAGvB7M,EAAAzC,EAAA0C,cAAC6M,GAAAvP,EAAD,CAAY1E,KAAK,SAASkU,aAAW,UACnC/M,EAAAzC,EAAA0C,cAAC+M,GAAAzP,EAAD,CAAY2C,UAAU,yBA9DbmF,kBAqEJ4H,yBAhGA,iBAAO,CACpBJ,MAAO,CACLrK,MAAO,SAET2J,YAAa,CACXe,aAAc,EACdC,cAAe,MACfC,UAAW,KAEbd,SAAU,CACR9J,MAAO,QACP6K,eAAgB,CACd7K,MAAO,UAGXgK,WAAY,GACZI,aAAc,CACZU,UAAW,CACTC,kBAAmB,SAErBA,kBAAmB,QACnBC,WAAY,CACVD,kBAAmB,YA0EVN,CAAmBpB,IC5FnBrM,gBACb6L,KACApE,YAXsB,SAAA7L,GAAA,MAAiB,CACvClB,WADsBkB,EAAGrC,OACNmB,aAGM,SAAAiN,GAAQ,MAAK,CACtC4E,SAAU,SAAAlP,GAAI,OAAIsK,EAAS3N,EAAkB,CAAEqD,WAC/CiP,cAAe,SAAAvS,GAAI,OAAI4N,EAAS7N,EAAcC,QAGjCiG,CAMbqM,gCCeajD,YAAkB,CAAC,YAAnBA,CA3Bf,SAAAxN,GAA6C,IAA3BuO,EAA2BvO,EAA3BuO,SAAU8D,EAAiBrS,EAAjBqS,cAC1B,OAAI9D,EAEA3J,EAAAzC,EAAA0C,cAAA,UAAQC,UAAU,iBAChBF,EAAAzC,EAAA0C,cAACyN,GAAD,MACA1N,EAAAzC,EAAA0C,cAAA,UAAQC,UAAU,cAAcrH,KAAK,SAASmR,QAASyD,GACrDzN,EAAAzC,EAAA0C,cAAC0N,GAAApQ,EAAD,CAAM2C,UAAU,gBAOtBF,EAAAzC,EAAA0C,cAAA,UAAQC,UAAU,UAChBF,EAAAzC,EAAA0C,cAACkE,GAAA,EAAD,CAAMC,GAAG,KACPpE,EAAAzC,EAAA0C,cAAA,OAAK+D,IAAK4J,KAAM3J,IAAI,OAAO/D,UAAU,UAEvCF,EAAAzC,EAAA0C,cAACyN,GAAD,SC4FSG,uBAtGb,SAAAA,EAAYzK,GAAO,IAAAuC,EAAA,OAAAjM,OAAAkM,GAAA,EAAAlM,CAAA2E,KAAAwP,IACjBlI,EAAAjM,OAAAmM,GAAA,EAAAnM,CAAA2E,KAAA3E,OAAAoM,GAAA,EAAApM,CAAAmU,GAAAhQ,KAAAQ,KAAM+E,KALRmB,oBAAsB,CACpBC,UAAW,uBAMXmB,EAAKtL,MAAQ,CACXyT,UAAU,EACVC,UAAU,EACV1K,MAAO,MANQsC,qFAUC,I5BRKnC,E4BQLwK,EAAA3P,KAEP5E,EACP4E,KAAK+E,MADP6K,MAASxU,Q5BVY+J,E4BaZ/J,EAAO+J,G5BVbpH,EAFE,UAAA1B,OAAa8I,EAAb,aAAA9I,OAA2BqB,GAA3BrB,OAAoCuB,EAApC,gC4BaJM,KAAK,SAAA8G,GACJ2K,EAAKxH,SAAS,CACZnD,QACAyK,UAAU,EACVC,UAAU,MAGbrR,MAAM,SAAAvC,GACL+D,QAAQ/D,MAAMA,GAEd6T,EAAKxH,SAAS,CACZuH,SAAU5T,EAAM+T,6CAKf,IAAAC,EAC+B9P,KAAKhE,MAAnC0T,EADDI,EACCJ,SAAUD,EADXK,EACWL,SAAUzK,EADrB8K,EACqB9K,MAE5B,GAAI0K,EACF,OAAO/N,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,iBAAf,yBAAsD6N,GAG/D,GAAID,EACF,OAAO9N,EAAAzC,EAAA0C,cAAC8E,GAAD,CAAQhF,aAAc1B,KAAKkG,sBAR7B,IAYL6J,EASE/K,EATF+K,OACA/U,EAQEgK,EARFhK,OACA0H,EAOEsC,EAPFtC,MACA1F,EAMEgI,EANFhI,aACAiI,EAKED,EALFC,YACA+K,EAIEhL,EAJFgL,QACAC,EAGEjL,EAHFiL,OACA/K,EAEEF,EAFFE,SACAE,EACEJ,EADFI,aAEI8K,EAAalV,EAAO6L,IAAI,SAAAsJ,GAAK,OAAIA,EAAM3R,OAEvCkH,EAAYT,EAAW,sCAAA5I,OACa4I,GACtC,oDAEJ,OACEtD,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,SACbF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,kBACbF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,SAAS8D,IAAKD,EAAWE,IAAG,GAAAvJ,OAAKqG,EAAL,cAG7Cf,EAAAzC,EAAA0C,cAAA,WAASC,UAAU,cACjBF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,eACbF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,cACbF,EAAAzC,EAAA0C,cAACiE,GAAD,CAAezD,MAAOgD,KAExBzD,EAAAzC,EAAA0C,cAAA,WACED,EAAAzC,EAAA0C,cAAA,MAAIC,UAAU,cAAca,GAC5Bf,EAAAzC,EAAA0C,cAAA,QAAMC,UAAU,gBAAhB,IAAiC7E,EAAayI,OAAO,EAAG,GAAxD,KACA9D,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,UACbF,EAAAzC,EAAA0C,cAAA,cAASqO,MAIftO,EAAAzC,EAAA0C,cAAA,MAAIC,UAAU,aACZF,EAAAzC,EAAA0C,cAAA,qBACAD,EAAAzC,EAAA0C,cAAA,UAAKoO,EAAL,KAEArO,EAAAzC,EAAA0C,cAAA,oBACAD,EAAAzC,EAAA0C,cAAA,UAAKsO,EAAWE,KAAK,OAErBzO,EAAAzC,EAAA0C,cAAA,oBACAD,EAAAzC,EAAA0C,cAAA,UAAKmO,EAAL,KAEC7K,GACCvD,EAAAzC,EAAA0C,cAAAD,EAAAzC,EAAAyH,SAAA,KACEhF,EAAAzC,EAAA0C,cAAA,sBACAD,EAAAzC,EAAA0C,cAAA,UAAKsD,cArGGc,wDCDlBqK,WAAa,CAAEC,MAAO,QAAS/N,OAAQ,UAkB9BgO,OAhBf,WACE,OACE5O,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,aACbF,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,WACbF,EAAAzC,EAAA0C,cAAC4O,GAAAtR,EAAD,CAAW4C,MAAOuO,KAClB1O,EAAAzC,EAAA0C,cAAA,6BAEFD,EAAAzC,EAAA0C,cAACkE,GAAA,EAAD,CAAMC,GAAG,KACPpE,EAAAzC,EAAA0C,cAAC6O,GAAAvR,EAAD,CAAQwR,QAAQ,YAAYvM,MAAM,WAAlC,gCCsCOwM,yNAjDb3U,MAAQ,CACN4U,SAAS,KAWXlJ,SAAW,WAAM,IACPkJ,EAAYtJ,EAAKtL,MAAjB4U,QACAC,EAAYhT,OAAZgT,QAEJD,GAAWC,EAAU,IACvBvJ,EAAKa,SAAS,CACZyI,SAAS,KAEDA,GAAWC,GAAW,KAChCvJ,EAAKa,SAAS,CACZyI,SAAS,OAKfjF,QAAU,WACR9N,OAAOiT,SAAS,CACdC,IAAK,EACLC,SAAU,iGAzBZnT,OAAO2K,iBAAiB,SAAUxI,KAAK0H,yDAIvC7J,OAAO4K,oBAAoB,SAAUzI,KAAK0H,2CAyBnC,IACCkJ,EAAY5Q,KAAKhE,MAAjB4U,QAER,OACEjP,EAAAzC,EAAA0C,cAAA,UACEpH,KAAK,SACLqH,UAAS,eAAAxF,OAAkBuU,EAAoB,GAAV,SACrCjF,QAAS3L,KAAK2L,SAEdhK,EAAAzC,EAAA0C,cAAA,OAAK+D,IAAKsL,KAAOrL,IAAI,WAAW/D,UAAU,uBA5C/BmF,kBCyDJoE,0BA9Cb,SAAA8F,EAAYnM,GAAO,IAAAuC,EAAA,OAAAjM,OAAAkM,GAAA,EAAAlM,CAAA2E,KAAAkR,IACjB5J,EAAAjM,OAAAmM,GAAA,EAAAnM,CAAA2E,KAAA3E,OAAAoM,GAAA,EAAApM,CAAA6V,GAAA1R,KAAAQ,KAAM+E,KAORoM,aAAe,WACb7J,EAAKa,SAAS,CACZiJ,eAAe,KAVA9J,EAcnB8H,cAAgB,WACd9H,EAAKa,SAAS,SAAAnM,GAAK,MAAK,CACtBoV,eAAgBpV,EAAMoV,kBAbxB9J,EAAKtL,MAAQ,CACXoV,eAAe,GAJA9J,0EAoBV,IACCgE,EAAatL,KAAK+E,MAAlBuG,SACA8F,EAAkBpR,KAAKhE,MAAvBoV,cACR,OACEzP,EAAAzC,EAAA0C,cAAA,OAAKC,UAAU,OACbF,EAAAzC,EAAA0C,cAACyP,GAAD,MACA1P,EAAAzC,EAAA0C,cAAC0P,GAAD,CAAQhG,SAAUA,EAAU8D,cAAepP,KAAKoP,gBAChDzN,EAAAzC,EAAA0C,cAAC2P,GAAD,CAASjG,SAAUA,EAAU6B,OAAQiE,EAAehE,QAASpN,KAAKmR,cAChExP,EAAAzC,EAAA0C,cAAC4P,GAAD,OAEF7P,EAAAzC,EAAA0C,cAAC6P,GAAD,KACE9P,EAAAzC,EAAA0C,cAAC8P,GAAA,EAAD,KACE/P,EAAAzC,EAAA0C,cAAC+P,GAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAI/F,UAAWgG,KACjCnQ,EAAAzC,EAAA0C,cAAC+P,GAAA,EAAD,CAAOE,KAAK,aAAaE,OAAQ,SAAAhN,GAAK,OAAIpD,EAAAzC,EAAA0C,cAACoQ,GAAcjN,MACzDpD,EAAAzC,EAAA0C,cAAC+P,GAAA,EAAD,CAAO7F,UAAWyE,eAnCZvK,sBCLlB5E,GAAM0H,SAAS3N,KAEf8W,IAASF,OACPpQ,EAAAzC,EAAA0C,cAACsQ,EAAA,EAAD,CAAU9Q,MAAOA,IACfO,EAAAzC,EAAA0C,cAACuQ,EAAA,EAAD,CAAQC,SAAkDzU,eACxDgE,EAAAzC,EAAA0C,cAACyQ,GAAD,QAGJzK,SAAS0K,eAAe","file":"static/js/main.796a3a53.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.b205435e.png\";","module.exports = __webpack_public_path__ + \"static/media/arrow-up.65591717.svg\";","export const ADD_MOVIES_SUCCESS = 'ADD_MOVIES_SUCCESS';\r\nexport const GET_GENRES = 'GET_GENRES';\r\nexport const GET_MOVIES_FAILED = 'GET_MOVIES_FAILED';\r\nexport const GET_MOVIES_BY_PARAM = 'GET_MOVIES_BY_PARAM';\r\nexport const GET_MOVIES_SUCCESS = 'GET_MOVIES_SUCCESS';\r\nexport const LOAD_MORE = 'LOAD_MORE';\r\nexport const MOVIES_REQUEST = 'MOVIES_REQUEST';\r\nexport const SET_SORTING = 'SET_SORTING';\r\nexport const SET_VIEW_TYPE = 'SET_VIEW_TYPE';\r\nexport const SET_SEARCH_TEXT = 'SET_SEARCH_TEXT';\r\n\r\nexport function setViewType(viewType) {\r\n  return {\r\n    type: SET_VIEW_TYPE,\r\n    viewType\r\n  };\r\n}\r\n\r\nexport function setSorting(param) {\r\n  return {\r\n    type: SET_SORTING,\r\n    param\r\n  };\r\n}\r\n\r\nexport function requestMovies() {\r\n  return { type: MOVIES_REQUEST };\r\n}\r\n\r\nexport function getMoviesSuccess(movies, URL, totalPages) {\r\n  return {\r\n    type: GET_MOVIES_SUCCESS,\r\n    movies,\r\n    URL,\r\n    totalPages\r\n  };\r\n}\r\n\r\nexport function getMoviesFailed() {\r\n  return { type: GET_MOVIES_FAILED };\r\n}\r\n\r\nexport function addMovies(movies) {\r\n  return {\r\n    type: ADD_MOVIES_SUCCESS,\r\n    movies\r\n  };\r\n}\r\n\r\nexport function loadMore() {\r\n  return {\r\n    type: LOAD_MORE\r\n  };\r\n}\r\n\r\nexport function getGenres(genres) {\r\n  return {\r\n    type: GET_GENRES,\r\n    genres\r\n  };\r\n}\r\n\r\nexport function setSearchText(text) {\r\n  return {\r\n    type: SET_SEARCH_TEXT,\r\n    text\r\n  };\r\n}\r\n\r\nexport function getMoviesByParams(params) {\r\n  return {\r\n    type: GET_MOVIES_BY_PARAM,\r\n    ...params\r\n  };\r\n}\r\n","import {\r\n  SET_VIEW_TYPE,\r\n  GET_MOVIES_SUCCESS,\r\n  MOVIES_REQUEST,\r\n  SET_SORTING,\r\n  GET_MOVIES_FAILED,\r\n  ADD_MOVIES_SUCCESS,\r\n  GET_GENRES,\r\n  SET_SEARCH_TEXT\r\n} from '../actions/movies';\r\n\r\nconst initialState = {\r\n  fetching: false,\r\n  movies: [],\r\n  currentPage: 1,\r\n  totalPages: 1000,\r\n  lastFetchURL: '',\r\n  viewType: 'LIST',\r\n  sortingType: 'POPULARITY_DESC',\r\n  searchText: '',\r\n  error: false,\r\n  genres: []\r\n};\r\n\r\nexport default function reducer(state = { ...initialState }, action) {\r\n  switch (action.type) {\r\n    case GET_GENRES:\r\n      return { ...state, genres: action.genres };\r\n\r\n    case MOVIES_REQUEST:\r\n      return { ...state, fetching: true };\r\n\r\n    case GET_MOVIES_FAILED:\r\n      return { ...state, fetching: false, error: true };\r\n\r\n    case GET_MOVIES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        movies: action.movies,\r\n        fetching: false,\r\n        error: false,\r\n        lastFetchURL: action.URL,\r\n        totalPages: action.totalPages\r\n      };\r\n\r\n    case ADD_MOVIES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        currentPage: state.currentPage + 1,\r\n        movies: [...state.movies, ...action.movies],\r\n        fetching: false,\r\n        error: false\r\n      };\r\n\r\n    case SET_SORTING:\r\n      return { ...state, sortingType: action.param };\r\n\r\n    case SET_VIEW_TYPE:\r\n      return { ...state, viewType: action.viewType };\r\n\r\n    case SET_SEARCH_TEXT:\r\n      return { ...state, searchText: action.text };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\n\r\nimport movies from './moviesReducer';\r\n\r\nexport default combineReducers({\r\n  movies\r\n});\r\n","import { createSelector } from 'reselect';\r\n\r\nexport const POPULARITY_DESC = 'POPULARITY_DESC';\r\nexport const POPULARITY_ASC = 'POPULARITY_ASC';\r\nexport const RELEASE_DATE_DESC = 'RELEASE_DATE_DESC';\r\nexport const RELEASE_DATE_ASC = 'RELEASE_DATE_ASC';\r\n\r\nconst getMovies = state => state.movies;\r\nconst getSortingType = state => state.sortingType;\r\n\r\nexport const getSortedMovies = createSelector(\r\n  [getMovies, getSortingType],\r\n  (movies, sortingType) => {\r\n    const newMovies = [...movies];\r\n    switch (sortingType) {\r\n      case POPULARITY_DESC:\r\n        return newMovies.sort((movie1, movie2) => movie2.popularity - movie1.popularity);\r\n\r\n      case POPULARITY_ASC:\r\n        return newMovies.sort((movie1, movie2) => movie1.popularity - movie2.popularity);\r\n\r\n      case RELEASE_DATE_DESC:\r\n        return newMovies.sort((movie1, movie2) => {\r\n          const [date1, date2] = [movie1.release_date, movie2.release_date];\r\n\r\n          if (date2 > date1) return 1;\r\n          if (date2 < date1) return -1;\r\n\r\n          return 0;\r\n        });\r\n\r\n      case RELEASE_DATE_ASC:\r\n        return newMovies.sort((movie1, movie2) => {\r\n          const [date1, date2] = [movie1.release_date, movie2.release_date];\r\n\r\n          if (date2 < date1) return 1;\r\n          if (date2 > date1) return -1;\r\n\r\n          return 0;\r\n        });\r\n\r\n      default:\r\n        return movies;\r\n    }\r\n  }\r\n);\r\n","import {\r\n  POPULARITY_ASC,\r\n  POPULARITY_DESC,\r\n  RELEASE_DATE_ASC,\r\n  RELEASE_DATE_DESC\r\n} from '../selectors/sortingSelector';\r\n\r\nexport default {\r\n  [POPULARITY_ASC]: 'popularity.asc',\r\n  [POPULARITY_DESC]: 'popularity.asc',\r\n  [RELEASE_DATE_ASC]: 'release_date.asc',\r\n  [RELEASE_DATE_DESC]: 'release_date.desc'\r\n};\r\n","import axios from 'axios';\r\n\r\nimport resolvedSortingNames from './resolvedSortingTypeNames';\r\nimport getUserLanguage from '../helpers/getUserLanguage';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\n\r\nconst apiKey = process.env.REACT_APP_API_KEY;\r\nconst language = `&language=${getUserLanguage()}`;\r\n\r\nexport function callApi(url) {\r\n  return axios\r\n    .get(url)\r\n    .then(response => response.data)\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n}\r\n\r\nexport function fetchMovie(id) {\r\n  const url = `/movie/${id}?api_key=${apiKey}${language}&append_to_response=videos`;\r\n\r\n  return callApi(url);\r\n}\r\n\r\n// By default returns URL for getting popular movies\r\nexport function getURLbyParams(params = {}, page = 1) {\r\n  // Getting movies by Name\r\n  if (params.name) {\r\n    return `search/movie?api_key=${apiKey}&query=${params.name}${language}&page=${page}`;\r\n  }\r\n\r\n  // Getting movies by Genre\r\n  if (params.genreId) {\r\n    const formattedSorting = resolvedSortingNames[params.activeSorting];\r\n\r\n    return `/discover/movie?api_key=${apiKey}&sort_by=${formattedSorting}${language}&page=${page}&with_genres=${\r\n      params.genreId\r\n    }`;\r\n  }\r\n\r\n  return `movie/popular?api_key=${apiKey}${language}&page=${page}`;\r\n}\r\n\r\nexport function getGenresURL() {\r\n  return `/genre/movie/list?api_key=${apiKey}${language}`;\r\n}\r\n","export default () => window.navigator.language;\r\n","import {\r\n  put, call, takeLatest, select\r\n} from 'redux-saga/effects';\r\n\r\nimport {\r\n  GET_MOVIES_BY_PARAM,\r\n  LOAD_MORE,\r\n  getMoviesSuccess,\r\n  requestMovies,\r\n  getMoviesFailed,\r\n  addMovies,\r\n  getGenres\r\n} from '../actions/movies';\r\nimport { getURLbyParams, callApi, getGenresURL } from '../api/apiCalls';\r\n\r\nfunction* getMovies(action) {\r\n  try {\r\n    yield put(requestMovies());\r\n    const URL = yield call(getURLbyParams, action);\r\n    const data = yield call(callApi, URL);\r\n    const { results: movies, total_pages: totalPages } = data;\r\n\r\n    yield put(getMoviesSuccess(movies, URL, totalPages));\r\n  } catch (error) {\r\n    console.error(error);\r\n    yield put(getMoviesFailed());\r\n  }\r\n}\r\n\r\nfunction* getMoreMovies() {\r\n  try {\r\n    const { lastFetchURL, currentPage, totalPages } = yield select(state => state.movies);\r\n\r\n    if (currentPage >= totalPages) {\r\n      return;\r\n    }\r\n\r\n    yield put(requestMovies());\r\n    const nextPageURL = lastFetchURL.replace(/page=./, `page=${currentPage + 1}`);\r\n    const data = yield call(callApi, nextPageURL);\r\n    const movies = data.results;\r\n    yield put(addMovies(movies));\r\n  } catch (error) {\r\n    console.error(error);\r\n    yield put(getMoviesFailed());\r\n  }\r\n}\r\n\r\nexport function* getGenresSaga() {\r\n  const genres = yield call(callApi, getGenresURL());\r\n  yield put(getGenres(genres.genres));\r\n}\r\n\r\nexport default function* watchGettingMovies() {\r\n  yield takeLatest(GET_MOVIES_BY_PARAM, getMovies);\r\n  yield takeLatest(LOAD_MORE, getMoreMovies);\r\n}\r\n","import { all } from 'redux-saga/effects';\r\n\r\nimport watchGettingMovies, { getGenresSaga } from './moviesSaga';\r\n\r\nexport default function* rootSaga() {\r\n  yield all([watchGettingMovies(), getGenresSaga()]);\r\n}\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport reducer from './reducers/RootReducer';\r\n\r\nimport rootSaga from './sagas/rootSaga';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducer,\r\n  composeEnhancers(applyMiddleware(sagaMiddleware))\r\n);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Loader.sass';\r\n\r\nfunction Loader({ wrapperStyle }) {\r\n  return (\r\n    <div className=\"loader-wrap\" style={wrapperStyle}>\r\n      <div className=\"loader\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nLoader.propTypes = {\r\n  wrapperStyle: PropTypes.object\r\n};\r\n\r\nLoader.defaultProps = {\r\n  wrapperStyle: {}\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Highcharts from 'highcharts';\r\nimport SolidGauge from 'highcharts/modules/solid-gauge';\r\nimport HCMore from 'highcharts/highcharts-more';\r\nimport HighchartsReact from 'highcharts-react-official';\r\n\r\nHCMore(Highcharts);\r\nSolidGauge(Highcharts);\r\n\r\nfunction ActivityGauge({ value }) {\r\n  // Settings for chart\r\n  const options = {\r\n    chart: {\r\n      type: 'solidgauge',\r\n      height: '100%',\r\n      backgroundColor: 'none',\r\n      className: 'activity',\r\n      margin: [0, 0, 0, 0]\r\n    },\r\n\r\n    title: {\r\n      text: ''\r\n    },\r\n\r\n    tooltip: {\r\n      enabled: false\r\n    },\r\n\r\n    pane: {\r\n      startAngle: 0,\r\n      endAngle: 360,\r\n      background: {\r\n        // Track for Move\r\n        outerRadius: '95%',\r\n        innerRadius: '70%',\r\n        backgroundColor: Highcharts.Color(Highcharts.getOptions().colors[0])\r\n          .setOpacity(0.3)\r\n          .get(),\r\n        borderWidth: 0\r\n      }\r\n    },\r\n\r\n    yAxis: {\r\n      min: 0,\r\n      max: 10,\r\n      lineWidth: 0,\r\n      tickPositions: []\r\n    },\r\n\r\n    plotOptions: {\r\n      solidgauge: {\r\n        dataLabels: {\r\n          enabled: true,\r\n          backgroundColor: 'none',\r\n          borderWidth: 0,\r\n          defer: true,\r\n          y: -14,\r\n          x: -1,\r\n          color: Highcharts.getOptions().colors[0],\r\n          useHTML: true,\r\n          style: {\r\n            fontSize: '0.8rem'\r\n          }\r\n        },\r\n        linecap: 'round',\r\n        rounded: true\r\n      }\r\n    },\r\n\r\n    series: [\r\n      {\r\n        name: 'Popularity',\r\n        data: [\r\n          {\r\n            color: Highcharts.getOptions().colors[0],\r\n            radius: '95%',\r\n            innerRadius: '70%',\r\n            y: value\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  return <HighchartsReact highcharts={Highcharts} options={options} allowChartUpdate={false} />;\r\n}\r\n\r\nActivityGauge.propTypes = {\r\n  value: PropTypes.number.isRequired\r\n};\r\n\r\nexport default ActivityGauge;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nimport ActivityGauge from '../ActivityGauge/ActivityGauge';\r\nimport './MovieCard.sass';\r\n\r\nclass MovieCard extends Component {\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      movie: {\r\n        poster_path, title, release_date, overview, id, vote_average\r\n      }\r\n    } = this.props;\r\n\r\n    const releaseDate = release_date ? moment(release_date).format('MMMM D, YYYY') : null;\r\n    const movieOverview = overview.length > 100 ? `${overview.substr(0, 97)}...` : overview;\r\n    const posterUrl = poster_path\r\n      ? `http://image.tmdb.org/t/p/w185/${poster_path}`\r\n      : 'https://via.placeholder.com/185x278/0000FF/808080';\r\n\r\n    return (\r\n      <article className=\"movie-card\">\r\n        <div className=\"poster\">\r\n          <img src={posterUrl} alt={title} className=\"poster-image\" />\r\n        </div>\r\n\r\n        <div className=\"info\">\r\n          <div className=\"title-wrapper\">\r\n            <div className=\"popularity\">\r\n              <ActivityGauge value={vote_average} />\r\n            </div>\r\n            <div>\r\n              <h3 className=\"title\">{title}</h3>\r\n              {releaseDate && <time className=\"release-date\">{releaseDate}</time>}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"description\">{movieOverview}</div>\r\n\r\n          <div className=\"more-info\">\r\n            <Link to={`/movie/${id}`} className=\"more-info-link\">\r\n              More info\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    );\r\n  }\r\n}\r\n\r\nMovieCard.propTypes = {\r\n  movie: PropTypes.object.isRequired\r\n};\r\n\r\nexport default MovieCard;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Loader from '../Loader/Loader';\r\nimport MovieCard from '../MovieCard/MovieCard';\r\nimport './MoviesList.sass';\r\n\r\nclass MoviesList extends PureComponent {\r\n  static propTypes = {\r\n    movies: PropTypes.array,\r\n    fetching: PropTypes.bool.isRequired,\r\n    activeViewType: PropTypes.string.isRequired,\r\n    error: PropTypes.bool.isRequired,\r\n    reachedBottom: PropTypes.bool,\r\n    loadMore: PropTypes.func\r\n  };\r\n\r\n  static defaultProps = {\r\n    movies: [],\r\n    reachedBottom: false,\r\n    loadMore: () => {}\r\n  };\r\n\r\n  loaderWrapperStyles = {\r\n    minHeight: 'calc(100vh - 260px)'\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { reachedBottom, loadMore } = this.props;\r\n\r\n    if (!prevProps.reachedBottom && reachedBottom) {\r\n      loadMore();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      movies, fetching, activeViewType, error\r\n    } = this.props;\r\n\r\n    if (fetching && !movies.length > 0) {\r\n      return <Loader wrapperStyle={this.loaderWrapperStyles} />;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className={`movies-list ${activeViewType.toLowerCase()}`}>\r\n          {movies.length > 0\r\n            ? movies.map(movie => <MovieCard key={movie.id} movie={movie} />)\r\n            : !fetching && !error && 'Movies not found'}\r\n        </div>\r\n        {error ? <div className=\"error-message\">Something went wrong!</div> : null}\r\n        {fetching ? <Loader /> : null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesList;\r\n","import React, { PureComponent } from 'react';\r\n\r\nimport getDisplayName from '../helpers/getDisplayName';\r\n\r\nexport default trashold => Component => {\r\n  class withInfiniteScrolling extends PureComponent {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        reachedBottom: false\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      if (this.scroller) {\r\n        window.addEventListener('scroll', this.onScroll);\r\n      }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      window.removeEventListener('scroll', this.onScroll);\r\n    }\r\n\r\n    onScroll = () => {\r\n      const availDocumentHeight = document.documentElement.clientHeight;\r\n      const distanceToBottom = this.scroller.getBoundingClientRect().bottom - availDocumentHeight;\r\n      const { reachedBottom } = this.state;\r\n\r\n      if (distanceToBottom < trashold && !reachedBottom) {\r\n        this.setState({ reachedBottom: true });\r\n      } else if (distanceToBottom > trashold && reachedBottom) {\r\n        this.setState({ reachedBottom: false });\r\n      }\r\n    };\r\n\r\n    getScrollerRef = node => {\r\n      this.scroller = node;\r\n    };\r\n\r\n    render() {\r\n      const { reachedBottom } = this.state;\r\n\r\n      return (\r\n        <>\r\n          <Component {...this.props} reachedBottom={reachedBottom} />\r\n          <div style={{ height: 1 }} ref={this.getScrollerRef} />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n\r\n  withInfiniteScrolling.displayName = `withInfiniteScrolling(${getDisplayName(Component)})`;\r\n\r\n  return withInfiniteScrolling;\r\n};\r\n","export default Component => Component.displayName || Component.name || 'Component';\r\n","import { connect } from 'react-redux';\r\nimport { compose } from 'recompose';\r\n\r\nimport MoviesList from '../components/MoviesList/MoviesList';\r\nimport withInfiniteScrolling from '../components/withInfiniteScrolling';\r\nimport { getSortedMovies } from '../selectors/sortingSelector';\r\nimport { loadMore } from '../actions/movies';\r\n\r\nconst mapStateToProps = ({\r\n  movies: {\r\n    movies, fetching, viewType, error, sortingType\r\n  }\r\n}) => ({\r\n  error,\r\n  fetching,\r\n  movies: getSortedMovies({ movies, sortingType }),\r\n  activeViewType: viewType\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  loadMore: () => dispatch(loadMore())\r\n});\r\n\r\nexport default compose(\r\n  withInfiniteScrolling(600),\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(MoviesList);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst styles = {\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  minWidth: '8rem'\r\n};\r\n\r\nfunction StyledMenuItem({ children, ...rest }) {\r\n  return (\r\n    <MenuItem {...rest} style={styles}>\r\n      {children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nStyledMenuItem.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nStyledMenuItem.defaultProps = {\r\n  children: ''\r\n};\r\n\r\nexport default StyledMenuItem;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport StyledMenuItem from './StyledMenuItem';\r\nimport './SortingBar.sass';\r\n\r\nimport {\r\n  POPULARITY_ASC,\r\n  POPULARITY_DESC,\r\n  RELEASE_DATE_ASC,\r\n  RELEASE_DATE_DESC\r\n} from '../../selectors/sortingSelector';\r\n\r\nclass SortingBar extends PureComponent {\r\n  static propTypes = {\r\n    onSetSorting: PropTypes.func.isRequired,\r\n    activeSorting: PropTypes.string.isRequired\r\n  };\r\n\r\n  selectStyles = {\r\n    marginLeft: 10\r\n  };\r\n\r\n  handleChange = e => {\r\n    const { value } = e.target;\r\n    const { onSetSorting, activeSorting } = this.props;\r\n\r\n    if (value !== activeSorting) {\r\n      onSetSorting(value);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { activeSorting } = this.props;\r\n    return (\r\n      <div className=\"sorting\">\r\n        <span className=\"sorting-label\">Sort by:</span>\r\n        <div className=\"select-wrapper\">\r\n          <Select\r\n            style={this.selectStyles}\r\n            value={activeSorting}\r\n            onChange={this.handleChange}\r\n            inputProps={{\r\n              name: 'age',\r\n              id: 'age-simple'\r\n            }}\r\n          >\r\n            <StyledMenuItem value={POPULARITY_DESC}>\r\n              Popularity <span>&uarr;</span>\r\n            </StyledMenuItem>\r\n            <StyledMenuItem value={POPULARITY_ASC}>\r\n              Popularity <span>&darr;</span>\r\n            </StyledMenuItem>\r\n            <StyledMenuItem value={RELEASE_DATE_DESC}>\r\n              Release Date <span>&uarr;</span>\r\n            </StyledMenuItem>\r\n            <StyledMenuItem value={RELEASE_DATE_ASC}>\r\n              Release Date <span>&darr;</span>\r\n            </StyledMenuItem>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SortingBar;\r\n","import { connect } from 'react-redux';\r\n\r\nimport SortingBar from '../components/SortingBar/SortingBar';\r\nimport { setSorting } from '../actions/movies';\r\n\r\nconst mapStateToProps = ({ movies }) => ({\r\n  activeSorting: movies.sortingType\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onSetSorting: sortingType => dispatch(setSorting(sortingType))\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SortingBar);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './ToggleItem.sass';\r\n\r\nfunction ToggleItem({\r\n  checked, onChange, id, value, children\r\n}) {\r\n  return (\r\n    <label htmlFor={id} className={`toggle-item${checked ? ' active' : ''}`}>\r\n      {children}\r\n      <input\r\n        name=\"view-type\"\r\n        id={id}\r\n        type=\"radio\"\r\n        hidden\r\n        onChange={() => onChange(value)}\r\n        checked={checked}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n\r\nToggleItem.propTypes = {\r\n  checked: PropTypes.bool.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  children: PropTypes.any.isRequired\r\n};\r\n\r\nexport default ToggleItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ViewModule from '@material-ui/icons/ViewModule';\r\nimport ViewList from '@material-ui/icons/ViewList';\r\nimport { onlyUpdateForKeys } from 'recompose';\r\n\r\nimport ToggleItem from './ToggleItem/ToggleItem';\r\nimport './ViewToggle.sass';\r\n\r\nfunction ViewToggle({ activeViewType, onChangeView }) {\r\n  return (\r\n    <div className=\"view-toggle\">\r\n      <ToggleItem\r\n        name=\"view-type\"\r\n        id=\"toggle-list\"\r\n        onChange={onChangeView}\r\n        checked={activeViewType === 'LIST'}\r\n        value=\"LIST\"\r\n      >\r\n        <ViewList />\r\n      </ToggleItem>\r\n\r\n      <ToggleItem\r\n        name=\"view-type\"\r\n        id=\"toggle-tiles\"\r\n        onChange={onChangeView}\r\n        checked={activeViewType === 'TILES'}\r\n        value=\"TILES\"\r\n      >\r\n        <ViewModule />\r\n      </ToggleItem>\r\n    </div>\r\n  );\r\n}\r\n\r\nViewToggle.propTypes = {\r\n  activeViewType: PropTypes.string.isRequired,\r\n  onChangeView: PropTypes.func.isRequired\r\n};\r\n\r\nexport default onlyUpdateForKeys(['activeViewType'])(ViewToggle);\r\n","import { connect } from 'react-redux';\r\n\r\nimport ViewToggle from '../components/ViewToggle/ViewToggle';\r\nimport { setViewType } from '../actions/movies';\r\n\r\nfunction mapStateToProps({ movies }) {\r\n  return {\r\n    activeViewType: movies.viewType\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    onChangeView: viewType => dispatch(setViewType(viewType))\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ViewToggle);\r\n","import React from 'react';\r\n\r\nimport getDisplayName from '../helpers/getDisplayName';\r\n\r\nconst detectMobile = () => {\r\n  const mobiles = [\r\n    'iphone',\r\n    'ipad',\r\n    'android',\r\n    'blackberry',\r\n    'nokia',\r\n    'opera mini',\r\n    'windows mobile',\r\n    'windows phone',\r\n    'iemobile'\r\n  ];\r\n  const ua = navigator.userAgent.toLowerCase();\r\n  return mobiles.some(mobile => ua.includes(mobile));\r\n};\r\n\r\nexport default function withMobileDetection(Component) {\r\n  function WithMobileDetection(props) {\r\n    return <Component {...props} isMobile={detectMobile()} />;\r\n  }\r\n\r\n  WithMobileDetection.displayName = `withMobileDetection(${getDisplayName(Component)})`;\r\n\r\n  return WithMobileDetection;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport MoviesList from '../../containers/MoviesListContainer';\r\nimport SortingBar from '../../containers/SortingBarContainer';\r\nimport ViewToggle from '../../containers/ViewToggleContainer';\r\nimport withMobileDetection from '../../components/withMobileDetection';\r\nimport './MoviesListPage.sass';\r\n\r\nfunction MoviesListPage({ isMobile }) {\r\n  return (\r\n    <>\r\n      <div className=\"actions\">\r\n        <SortingBar />\r\n        {!isMobile && <ViewToggle />}\r\n      </div>\r\n      <MoviesList />\r\n    </>\r\n  );\r\n}\r\n\r\nMoviesListPage.propTypes = {\r\n  isMobile: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default withMobileDetection(MoviesListPage);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { shouldUpdate } from 'recompose';\r\n\r\nimport './GenreItem.sass';\r\n\r\nfunction GenreItem({ name, id, onClick }) {\r\n  return (\r\n    <ListItem\r\n      key={id}\r\n      button\r\n      component=\"li\"\r\n      onClick={() => {\r\n        onClick(id);\r\n      }}\r\n    >\r\n      <ListItemText disableTypography primary={name} className=\"genre-name\" />\r\n    </ListItem>\r\n  );\r\n}\r\n\r\nGenreItem.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n  onClick: PropTypes.func\r\n};\r\n\r\nGenreItem.defaultProps = {\r\n  onClick: () => {}\r\n};\r\n\r\nexport default shouldUpdate(() => false)(GenreItem);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport List from '@material-ui/core/List';\r\n\r\nimport GenreItem from './GenreItem/GenreItem';\r\nimport './GenresList.sass';\r\n\r\nfunction redirectIfNotOnMain(history, location) {\r\n  if (location.pathname !== '/') {\r\n    history.push('/');\r\n  }\r\n}\r\n\r\nclass GenreList extends Component {\r\n  shouldComponentUpdate(nextProps) {\r\n    const { genres, location } = this.props;\r\n\r\n    return genres !== nextProps.genres || location.pathname !== nextProps.location.pathname;\r\n  }\r\n\r\n  sideEffectsOnClick = () => {\r\n    const { history, location, clearSearchInput } = this.props;\r\n\r\n    redirectIfNotOnMain(history, location);\r\n    clearSearchInput();\r\n  };\r\n\r\n  render() {\r\n    const { getMoviesByGenre, genres } = this.props;\r\n\r\n    return (\r\n      <div className=\"genres-list\">\r\n        <div className=\"genres-label\">Genres</div>\r\n        <List onClick={this.sideEffectsOnClick}>\r\n          {genres.length > 0\r\n            ? genres.map(({ name, id }) => (\r\n              <GenreItem key={id} id={id} name={name} onClick={getMoviesByGenre} />\r\n            ))\r\n            : 'no genres'}\r\n        </List>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nGenreList.propTypes = {\r\n  getMoviesByGenre: PropTypes.func,\r\n  clearSearchInput: PropTypes.func,\r\n  genres: PropTypes.array,\r\n  history: PropTypes.object.isRequired,\r\n  location: PropTypes.object.isRequired\r\n};\r\n\r\nGenreList.defaultProps = {\r\n  getMoviesByGenre: () => {},\r\n  clearSearchInput: () => {},\r\n  genres: []\r\n};\r\n\r\nexport default GenreList;\r\n","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport compose from 'recompose/compose';\r\n\r\nimport { getMoviesByParams, setSearchText } from '../actions/movies';\r\nimport GenresList from '../components/GenresList/GenresList';\r\n\r\nconst mapStateToProps = state => ({\r\n  genres: state.movies.genres\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  getMoviesByGenre: genreId => dispatch(getMoviesByParams({ genreId })),\r\n  clearSearchInput: () => dispatch(setSearchText(''))\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(GenresList);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Sidebar.sass';\r\n\r\nfunction Sidebar({\r\n  children, isMobile, isOpen, onClose\r\n}) {\r\n  const sidebarClasses = `sidebar${isMobile ? ' mobile' : ''}${isOpen ? ' open' : ''}`;\r\n  return (\r\n    <div className={sidebarClasses} onClick={onClose} role=\"navigation\">\r\n      <button type=\"button\" className=\"close-btn\" onClick={onClose}>\r\n        &times;\r\n      </button>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nSidebar.propTypes = {\r\n  children: PropTypes.any,\r\n  isMobile: PropTypes.bool.isRequired,\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired\r\n};\r\n\r\nSidebar.defaultProps = {\r\n  children: ''\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Content.sass';\r\n\r\nfunction Content({ children }) {\r\n  return <div className=\"content\">{children}</div>;\r\n}\r\n\r\nContent.propTypes = {\r\n  children: PropTypes.node\r\n};\r\n\r\nContent.defaultProps = {\r\n  children: ''\r\n};\r\n\r\nexport default Content;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport './Form.sass';\r\n\r\n// styles for material ui input\r\nconst styles = () => ({\r\n  input: {\r\n    color: 'white'\r\n  },\r\n  formControl: {\r\n    marginBottom: 6,\r\n    flexDirection: 'row',\r\n    flexBasis: 300\r\n  },\r\n  cssLabel: {\r\n    color: 'white',\r\n    '&$cssFocused': {\r\n      color: 'white'\r\n    }\r\n  },\r\n  cssFocused: {},\r\n  cssUnderline: {\r\n    '&:after': {\r\n      borderBottomColor: 'white'\r\n    },\r\n    borderBottomColor: 'white',\r\n    '&:before': {\r\n      borderBottomColor: 'white'\r\n    }\r\n  }\r\n});\r\n\r\nclass Form extends PureComponent {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n    onInputChange: PropTypes.func.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    location: PropTypes.object.isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n    searchText: PropTypes.string.isRequired\r\n  };\r\n\r\n  onChange = e => {\r\n    const { value } = e.target;\r\n    const { onInputChange } = this.props;\r\n\r\n    onInputChange(value);\r\n  };\r\n\r\n  onSubmit = e => {\r\n    const { onSubmit, history, location } = this.props;\r\n    const { searchText } = this.props;\r\n    e.preventDefault();\r\n\r\n    if (!searchText) return;\r\n\r\n    if (typeof onSubmit === 'function') {\r\n      onSubmit(searchText);\r\n    }\r\n\r\n    if (location.pathname !== '/') {\r\n      history.push('/');\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, searchText } = this.props;\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit} className=\"search-form\">\r\n        <FormControl className={classes.formControl}>\r\n          <InputLabel\r\n            htmlFor=\"search-input\"\r\n            classes={{\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused\r\n            }}\r\n          >\r\n            Search\r\n          </InputLabel>\r\n          <Input\r\n            onChange={this.onChange}\r\n            type=\"search\"\r\n            value={searchText}\r\n            name=\"search-input\"\r\n            id=\"search-input\"\r\n            fullWidth\r\n            classes={{\r\n              underline: classes.cssUnderline\r\n            }}\r\n            className={classes.input}\r\n          />\r\n        </FormControl>\r\n        <IconButton type=\"submit\" aria-label=\"search\">\r\n          <SearchIcon className=\"search-icon\" />\r\n        </IconButton>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Form);\r\n","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport { compose } from 'recompose';\r\nimport { getMoviesByParams, setSearchText } from '../actions/movies';\r\nimport Form from '../components/Form/Form';\r\n\r\nconst mapStateToProps = ({ movies }) => ({\r\n  searchText: movies.searchText\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onSubmit: name => dispatch(getMoviesByParams({ name })),\r\n  onInputChange: text => dispatch(setSearchText(text))\r\n});\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(Form);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\r\nimport Menu from '@material-ui/icons/Menu';\r\n\r\nimport FormContainer from '../../containers/FormContainer';\r\nimport logo from '../../img/logo.png';\r\nimport './Header.sass';\r\n\r\nfunction Header({ isMobile, toggleSidebar }) {\r\n  if (isMobile) {\r\n    return (\r\n      <header className=\"header mobile\">\r\n        <FormContainer />\r\n        <button className=\"menu-button\" type=\"button\" onClick={toggleSidebar}>\r\n          <Menu className=\"menu-icon\" />\r\n        </button>\r\n      </header>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Link to=\"/\">\r\n        <img src={logo} alt=\"logo\" className=\"logo\" />\r\n      </Link>\r\n      <FormContainer />\r\n    </header>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  isMobile: PropTypes.bool.isRequired,\r\n  toggleSidebar: PropTypes.func.isRequired\r\n};\r\n\r\nexport default onlyUpdateForKeys(['isMobile'])(Header);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ActivityGauge from '../../components/ActivityGauge/ActivityGauge';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport { fetchMovie } from '../../api/apiCalls';\r\nimport './MoviePage.sass';\r\n\r\nclass MoviePage extends Component {\r\n  static propTypes = {\r\n    match: PropTypes.object.isRequired\r\n  };\r\n\r\n  loaderWrapperStyles = {\r\n    minHeight: 'calc(100vh - 160px)'\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      fethcing: true,\r\n      hasError: false,\r\n      movie: null\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      match: { params }\r\n    } = this.props;\r\n\r\n    fetchMovie(params.id)\r\n      .then(movie => {\r\n        this.setState({\r\n          movie,\r\n          fethcing: false,\r\n          hasError: false\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.error(error);\r\n\r\n        this.setState({\r\n          hasError: error.message\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { hasError, fethcing, movie } = this.state;\r\n\r\n    if (hasError) {\r\n      return <div className=\"error-message\">Something went wrong. {hasError}</div>;\r\n    }\r\n\r\n    if (fethcing) {\r\n      return <Loader wrapperStyle={this.loaderWrapperStyles} />;\r\n    }\r\n\r\n    const {\r\n      budget,\r\n      genres,\r\n      title,\r\n      release_date,\r\n      poster_path,\r\n      runtime,\r\n      status,\r\n      overview,\r\n      vote_average\r\n    } = movie;\r\n    const genresName = genres.map(genre => genre.name);\r\n\r\n    const posterUrl = poster_path\r\n      ? `http://image.tmdb.org/t/p/original/${poster_path}`\r\n      : 'https://via.placeholder.com/400x600/0000FF/808080';\r\n\r\n    return (\r\n      <div className=\"movie\">\r\n        <div className=\"poster-wrapper\">\r\n          <img className=\"poster\" src={posterUrl} alt={`${title} poster`} />\r\n        </div>\r\n\r\n        <section className=\"movie-info\">\r\n          <div className=\"info-header\">\r\n            <div className=\"popularity\">\r\n              <ActivityGauge value={vote_average} />\r\n            </div>\r\n            <div>\r\n              <h3 className=\"movie-name\">{title}</h3>\r\n              <span className=\"release-date\">({release_date.substr(0, 4)})</span>\r\n              <div className=\"status\">\r\n                <output>{status}</output>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <dl className=\"info-list\">\r\n            <dt>Runtime</dt>\r\n            <dd>{runtime}m</dd>\r\n\r\n            <dt>Genres</dt>\r\n            <dd>{genresName.join(', ')}</dd>\r\n\r\n            <dt>Budget</dt>\r\n            <dd>{budget}$</dd>\r\n\r\n            {overview && (\r\n              <>\r\n                <dt>Overview</dt>\r\n                <dd>{overview}</dd>\r\n              </>\r\n            )}\r\n          </dl>\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviePage;\r\n","import React from 'react';\r\nimport BugReport from '@material-ui/icons/BugReport';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './NotFound.sass';\r\n\r\nconst iconStyles = { width: '10rem', height: '10rem' };\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div className=\"not-found\">\r\n      <div className=\"message\">\r\n        <BugReport style={iconStyles} />\r\n        <h2>Page not found</h2>\r\n      </div>\r\n      <Link to=\"/\">\r\n        <Button variant=\"contained\" color=\"primary\">\r\n          Home\r\n        </Button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { PureComponent } from 'react';\r\n\r\nimport arrow from '../../img/arrow-up.svg';\r\nimport './GoUp.sass';\r\n\r\nclass GoUp extends PureComponent {\r\n  state = {\r\n    visible: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.onScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.onScroll);\r\n  }\r\n\r\n  onScroll = () => {\r\n    const { visible } = this.state;\r\n    const { scrollY } = window;\r\n\r\n    if (visible && scrollY < 1000) {\r\n      this.setState({\r\n        visible: false\r\n      });\r\n    } else if (!visible && scrollY >= 1000) {\r\n      this.setState({\r\n        visible: true\r\n      });\r\n    }\r\n  };\r\n\r\n  onClick = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { visible } = this.state;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={`go-up-button${!visible ? ' hide' : ''}`}\r\n        onClick={this.onClick}\r\n      >\r\n        <img src={arrow} alt=\"arrow up\" className=\"go-up-icon\" />\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GoUp;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport MoviesListPage from '../../pages/MoviesListPage/MoviesListPage';\r\nimport GenresList from '../../containers/GenresListContainer';\r\nimport withMobileDetection from '../withMobileDetection';\r\nimport Sidebar from '../Sidebar/Sidebar';\r\nimport Content from '../Content/Content';\r\nimport Header from '../Header/Header';\r\nimport MoviePage from '../../pages/MoviePage/MoviePage';\r\nimport NotFound from '../NotFound/NotFound';\r\nimport GoUp from '../GoUp/GoUp';\r\nimport './App.sass';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isSidebarOpen: false\r\n    };\r\n  }\r\n\r\n  closeSidebar = () => {\r\n    this.setState({\r\n      isSidebarOpen: false\r\n    });\r\n  };\r\n\r\n  toggleSidebar = () => {\r\n    this.setState(state => ({\r\n      isSidebarOpen: !state.isSidebarOpen\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { isMobile } = this.props;\r\n    const { isSidebarOpen } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <GoUp />\r\n        <Header isMobile={isMobile} toggleSidebar={this.toggleSidebar} />\r\n        <Sidebar isMobile={isMobile} isOpen={isSidebarOpen} onClose={this.closeSidebar}>\r\n          <GenresList />\r\n        </Sidebar>\r\n        <Content>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={MoviesListPage} />\r\n            <Route path=\"/movie/:id\" render={props => <MoviePage {...props} />} />\r\n            <Route component={NotFound} />\r\n          </Switch>\r\n        </Content>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  isMobile: PropTypes.bool.isRequired\r\n};\r\n\r\nexport default withMobileDetection(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport store from './store';\r\nimport App from './components/App/App';\r\nimport { getMoviesByParams } from './actions/movies';\r\nimport './index.sass';\r\n\r\nstore.dispatch(getMoviesByParams());\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router basename={process.env.NODE_ENV === 'production' ? process.env.PUBLIC_URL : ''}>\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}