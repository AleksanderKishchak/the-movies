(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e){e.exports=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]},240:function(e,t,n){e.exports=n(440)},245:function(e,t,n){},283:function(e,t,n){},285:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){},352:function(e,t,n){},356:function(e,t,n){},409:function(e,t,n){},411:function(e,t,n){},428:function(e,t,n){},431:function(e,t,n){},434:function(e,t,n){},436:function(e,t,n){},438:function(e,t,n){},440:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),o=(n(245),n(23)),l=n(443),s=n(36),u=n(160),m=n(147),p=n(148),d=n.n(p),v="GET_MOVIES_BY_NAME",f="GET_MOVIES_BY_GENRE",E="GET_POPULAR_MOVIES",h="GET_MOVIES_SUCCESS",b="MOVIES_REQUEST";var g="SET_SORTING";var y="SET_VIEW_TYPE";var O=Object(s.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.movies;default:return e}},fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case b:return!0;case h:return!1;default:return e}},sortingType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"POPULARITY_DESC",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.param;default:return e}},viewType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LIST",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.viewType;default:return e}}}),S=n(24),w=n.n(S),j=n(20),_=n(45),N=n.n(_);N.a.defaults.baseURL="https://api.themoviedb.org/3";var C="?api_key=b0730a1cf45ff798ff411242700e6f40",T="&language=en-EN";function k(e){var t="search/movie".concat(C,"&query=").concat(e).concat(T);return N.a.get(t).then(function(e){return e.data.results})}function M(){var e="movie/popular".concat(C).concat(T);return N.a.get(e).then(function(e){return e.data.results})}function P(e){var t="/discover/movie".concat(C).concat(T,"&sort_by=popularity.desc&include_adult=true&include_video=false&with_genres=").concat(e);return N.a.get(t).then(function(e){return e.data.results})}var x=w.a.mark(D),A=w.a.mark(R),I=w.a.mark(V),L=w.a.mark(Y);function D(){var e;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(j.c)({type:b});case 3:return t.next=5,Object(j.b)(M);case 5:return e=t.sent,t.next=8,Object(j.c)({type:h,movies:e});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}},x,this,[[0,10]])}function R(e){var t,n;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.name,a.prev=1,a.next=4,Object(j.c)({type:b});case 4:return a.next=6,Object(j.b)(k,t);case 6:return n=a.sent,a.next=9,Object(j.c)({type:h,movies:n});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),console.error(a.t0);case 14:case"end":return a.stop()}},A,this,[[1,11]])}function V(e){var t,n;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.genreId,a.prev=1,a.next=4,Object(j.c)({type:b});case 4:return a.next=6,Object(j.b)(P,t);case 6:return n=a.sent,a.next=9,Object(j.c)({type:h,movies:n});case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),console.error(a.t0);case 14:case"end":return a.stop()}},I,this,[[1,11]])}function Y(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.d)(E,D);case 2:return e.next=4,Object(j.d)(v,R);case 4:return e.next=6,Object(j.d)(f,V);case 6:case"end":return e.stop()}},L,this)}var G=w.a.mark(U);function U(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)([Y()]);case 2:case"end":return e.stop()}},G,this)}var F=Object(u.a)(),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,H=Object(s.e)(O,B(Object(s.a)(m.a,d.a,F)));F.run(U);var W=H,J=n(26),X=n(27),q=n(29),Q=n(28),$=n(30),z=n(445),K=n(441),Z=function(){var e=navigator.userAgent.toLowerCase();return console.log(e),["iphone","ipad","android","blackberry","nokia","opera mini","windows mobile","windows phone","iemobile"].some(function(t){return e.includes(t)})};function ee(e){function t(t){return r.a.createElement(e,Object.assign({},t,{isMobile:Z()}))}return t.displayName="withMobileDetection(".concat(e.displayName||e.name||"Component",")"),t}n(283),n(285);function te(e){var t=e.wrapperStyle;return r.a.createElement("div",{className:"loader-wrap",style:t},r.a.createElement("div",{className:"loader"}))}te.defaultProps={wrapperStyle:{}};var ne=te,ae=n(150),re=n.n(ae),ce=n(149),ie=n.n(ce);n(287);var oe=function(e){var t=e.checked,n=e.onChange,a=e.id,c=e.value,i=e.children;return r.a.createElement("label",{htmlFor:a,className:"toggle-item".concat(t?" active":"")},i,r.a.createElement("input",{name:"view-type",id:a,type:"radio",hidden:!0,onChange:function(){return n(c)},checked:t}))};n(289);var le=function(e){var t=e.activeViewType,n=e.onChangeView;return r.a.createElement("div",{className:"list-toggle"},r.a.createElement(oe,{name:"view-type",id:"toggle-list",onChange:n,checked:"LIST"===t,value:"LIST"},r.a.createElement(ie.a,null)),r.a.createElement(oe,{name:"view-type",id:"toggle-tiles",onChange:n,checked:"TILES"===t,value:"TILES"},r.a.createElement(re.a,null)))};var se=Object(o.b)(function(e){return{activeViewType:e.viewType}},function(e){return{onChangeView:function(t){return e(function(e){return{type:y,viewType:e}}(t))}}})(le);n(352);function ue(e){var t=e.movies,n=e.fetching,a=e.activeViewType,c=e.isMobile;return n?r.a.createElement(ne,null):r.a.createElement(r.a.Fragment,null,!c&&r.a.createElement(se,null),r.a.createElement("div",{className:"movies-list"},t.length>0?t.map(function(e){return r.a.createElement(ct,{key:e.id,movie:e,activeViewType:a})}):"Movies not found"))}ue.defaultProps={movies:[]};var me=ee(ue),pe=n(161),de=n(151),ve=Object(de.a)([function(e){return e.movies},function(e){return e.sortingType}],function(e,t){var n=Object(pe.a)(e);switch(t){case"POPULARITY_DESC":return n.sort(function(e,t){return t.popularity-e.popularity});case"POPULARITY_ASC":return n.sort(function(e,t){return e.popularity-t.popularity});case"RELEASE_DATE_DESC":return n.sort(function(e,t){var n=[e.release_date,t.release_date],a=n[0],r=n[1];return r>a?1:r<a?-1:0});case"RELEASE_DATE_ASC":return n.sort(function(e,t){var n=[e.release_date,t.release_date],a=n[0],r=n[1];return r<a?1:r>a?-1:0});default:return e}}),fe=Object(o.b)(function(e){return{movies:ve(e),fetching:e.fetching,activeViewType:e.viewType}})(me),Ee=n(444),he=n(54),be=n.n(he),ge=n(104),ye=function(e){function t(){return Object(J.a)(this,t),Object(q.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object($.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.getMoviesByGenre,n=e.history,a=e.location;return r.a.createElement("div",{className:"genres-list"},r.a.createElement(be.a,null,"Genres ",r.a.createElement("br",null),r.a.createElement("hr",null),ge.length>0?ge.map(function(e){var c=e.name,i=e.id;return r.a.createElement($e,{history:n,location:a,key:i,id:i,name:c,onClick:t})}):"no genres"))}}]),t}(r.a.PureComponent);ye.defaultProps={getMoviesByGenre:function(){}};var Oe=ye,Se=Object(Ee.a)(Object(o.b)(null,function(e){return{getMoviesByGenre:function(t){return e(function(e){return{type:f,genreId:e}}(t))}}})(Oe)),we=(n(356),n(56)),je=n.n(we),_e=n(162),Ne=n(65),Ce=n.n(Ne),Te={display:"flex",justifyContent:"space-between",minWidth:"8rem"};function ke(e){var t=e.children,n=Object(_e.a)(e,["children"]);return r.a.createElement(Ce.a,Object.assign({},n,{style:Te}),t)}ke.defaultProps={children:""};var Me=ke,Pe=function(e){function t(){var e,n;Object(J.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(q.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=e.target.value,a=n.props,r=a.onSetSorting;t!==a.activeSorting&&r(t)},n}return Object($.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props.activeSorting;return r.a.createElement("div",{className:"sorting"},"Sort by:",r.a.createElement("div",{className:"select-wrapper"},r.a.createElement(je.a,{style:{marginLeft:10},value:e,onChange:this.handleChange,inputProps:{name:"age",id:"age-simple"}},r.a.createElement(Me,{value:"POPULARITY_DESC"},"Popularity ",r.a.createElement("span",null,"\u2191")),r.a.createElement(Me,{value:"POPULARITY_ASC"},"Popularity ",r.a.createElement("span",null,"\u2193")),r.a.createElement(Me,{value:"RELEASE_DATE_DESC"},"Release Date ",r.a.createElement("span",null,"\u2191")),r.a.createElement(Me,{value:"RELEASE_DATE_ASC"},"Release Date ",r.a.createElement("span",null,"\u2193")))))}}]),t}(a.Component),xe=Object(o.b)(function(e){return{activeSorting:e.sortingType}},function(e){return{onSetSorting:function(t){return e({type:g,param:t})}}})(Pe),Ae=ee(function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object(q.a)(this,Object(Q.a)(t).call(this,e))).closeSidebar=function(){n.setState({isSidebarOpen:!1})},n.openSidebar=function(){n.setState({isSidebarOpen:!0})},n.state={isSidebarOpen:!1},n}return Object($.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props.isMobile,t=this.state.isSidebarOpen;return r.a.createElement("div",{className:"App"},r.a.createElement(tt,{isMobile:e,openSidebar:this.openSidebar}),r.a.createElement(ot,{isMobile:e,isOpen:t,onClose:this.closeSidebar},e&&r.a.createElement(xe,null),r.a.createElement(Se,null)),r.a.createElement(Le,null,r.a.createElement(z.a,null,r.a.createElement(K.a,{exact:!0,path:"/",component:fe}),r.a.createElement(K.a,{path:"/movie/:id",render:function(e){return r.a.createElement(lt,e)}}),r.a.createElement(K.a,{component:dt}))))}}]),t}(a.Component));n(409);function Ie(e){var t=e.children;return r.a.createElement("div",{className:"content"},t)}Ie.defaultProps={children:""};var Le=Ie,De=n(154),Re=n(66),Ve=n.n(Re),Ye=n(67),Ge=n.n(Ye),Ue=n(155),Fe=n.n(Ue),Be=(n(411),function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object(q.a)(this,Object(Q.a)(t).call(this,e))).onChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(De.a)({},a,r))},n.onSubmit=function(e){var t=n.props,a=t.onSubmit,r=t.history,c=t.location,i=n.state.input;e.preventDefault(),i&&("function"===typeof a&&a(i),"/"!==c.pathname&&r.push("/"))},n.state={input:""},n}return Object($.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.state.input;return r.a.createElement("form",{onSubmit:this.onSubmit,className:"search-form"},r.a.createElement(Ve.a,{onChange:this.onChange,label:"Search",type:"search",value:e,name:"input",margin:"normal"}),r.a.createElement(Ge.a,{type:"submit","aria-label":"search"},r.a.createElement(Fe.a,null)))}}]),t}(a.Component));Be.defaultProps={onSubmit:function(){}};var He=Be,We=n(55),Je=n.n(We),Xe=n(68),qe=n.n(Xe);function Qe(e){var t=e.name,n=e.id,a=e.onClick,c=e.history,i=e.location;return r.a.createElement(Je.a,{key:n,button:!0,onClick:function(){a(n),"/"!==i.pathname&&c.push("/")}},r.a.createElement(qe.a,{primary:t}))}Qe.defaultProps={onClick:function(){}};var $e=Qe,ze=(n(428),n(156)),Ke=n(157),Ze=n.n(Ke),et=Object(Ee.a)(Object(o.b)(void 0,function(e){return{onSubmit:function(t){return e(function(e){return{type:v,name:e}}(t))}}})(He));var tt=function(e){var t=e.isMobile,n=e.openSidebar;return r.a.createElement("header",{className:"header"},t?r.a.createElement(ze.a,{onClick:n},r.a.createElement(Ze.a,null)):"Hello, User!",!t&&r.a.createElement(xe,null),r.a.createElement(et,null))},nt=n(442),at=(n(431),n(158)),rt=n.n(at);var ct=function(e){var t=e.movie,n=e.activeViewType,a=t.poster_path,c=t.title,i=t.release_date,o=t.overview,l=t.id,s="movie-card ".concat(n.toLowerCase()),u=i?rt()(i).format("MMMM D, YYYY"):null,m=o.length>100?"".concat(o.substr(0,97),"..."):o,p=a?"http://image.tmdb.org/t/p/w185/".concat(a):"https://via.placeholder.com/185x278/0000FF/808080";return r.a.createElement("article",{className:s},r.a.createElement("div",{className:"poster"},r.a.createElement("img",{src:p,alt:c,className:"poster-image"})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title-wrapper"},r.a.createElement("h3",{className:"title"},c),u&&r.a.createElement("time",{className:"release-date"},u)),r.a.createElement("div",{className:"description"},m),r.a.createElement("div",{className:"more-info"},r.a.createElement(nt.a,{to:"/movie/".concat(l),className:"more-info-link"},"More info"))))};n(434);function it(e){var t=e.children,n=e.isMobile,a=e.isOpen,c=e.onClose,i="sidebar".concat(n?" mobile":"").concat(a?" open":"");return r.a.createElement("div",{className:i},r.a.createElement("button",{type:"button",className:"close-btn",onClick:c},"\xd7"),t)}it.defaultProps={children:""};var ot=it,lt=(n(436),function(e){function t(e){var n;return Object(J.a)(this,t),(n=Object(q.a)(this,Object(Q.a)(t).call(this,e))).state={fethcing:!0,hasError:!1,movie:null},n}return Object($.a)(t,e),Object(X.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="/movie/".concat(e).concat(C).concat(T,"&append_to_response=videos");return N.a.get(t).then(function(e){return e.data})})(this.props.match.params.id).then(function(t){e.setState({movie:t,fethcing:!1,hasError:!1})}).catch(function(t){console.error(t),e.setState({hasError:t.message})})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.fethcing,a=e.movie;if(t)return r.a.createElement("div",{className:"error-message"},"Something went wrong. ",t);if(n)return r.a.createElement(ne,null);var c=a.budget,i=a.genres,o=a.title,l=a.release_date,s=a.poster_path,u=a.runtime,m=a.status,p=a.popularity,d=a.overview,v=i.map(function(e){return e.name}),f=s?"http://image.tmdb.org/t/p/original/".concat(s):"https://via.placeholder.com/400x600/0000FF/808080";return r.a.createElement("div",{className:"movie"},r.a.createElement("div",{className:"poster-wrapper"},r.a.createElement("img",{className:"poster",src:f,alt:"".concat(o," poster")})),r.a.createElement("section",{className:"movie-info"},r.a.createElement("h3",{className:"movie-name"},o),r.a.createElement("span",{className:"release-date"},"(",l.substr(0,4),")"),r.a.createElement("div",{className:"status"},r.a.createElement("output",null,m)),r.a.createElement("dl",{className:"info-list"},r.a.createElement("dt",{className:"runtime"},"Runtime"),r.a.createElement("dd",null,u,"m"),r.a.createElement("dt",{className:"popularity"},"Popularity"),r.a.createElement("dd",null,p),r.a.createElement("dt",{className:"genres"},"Genres"),r.a.createElement("dd",null,v.join(", ")),r.a.createElement("dt",{className:"budget"},"Budget"),r.a.createElement("dd",null,c,"$"),r.a.createElement("dt",null,"Overview"),r.a.createElement("dd",null,d))))}}]),t}(a.Component)),st=n(159),ut=n.n(st),mt=n(69),pt=n.n(mt);n(438);var dt=function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("div",{className:"message"},r.a.createElement(ut.a,{style:{width:"10rem",height:"10rem"}}),r.a.createElement("h2",null,"Page not found")),r.a.createElement(nt.a,{to:"/"},r.a.createElement(pt.a,{variant:"contained",color:"primary"},"Home")))};W.dispatch({type:E}),i.a.render(r.a.createElement(o.a,{store:W},r.a.createElement(l.a,null,r.a.createElement(Ae,null))),document.getElementById("root"))}},[[240,2,1]]]);
//# sourceMappingURL=main.e0b369cd.chunk.js.map