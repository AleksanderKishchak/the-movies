(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,a){e.exports=a.p+"static/media/logo.b205435e.png"},146:function(e,t,a){e.exports=a(347)},246:function(e,t,a){},302:function(e,t,a){},304:function(e,t,a){},306:function(e,t,a){},309:function(e,t,a){},311:function(e,t,a){},313:function(e,t,a){},318:function(e,t,a){},321:function(e,t,a){},323:function(e,t,a){},325:function(e,t,a){},336:function(e,t,a){},338:function(e,t,a){},340:function(e,t,a){},343:function(e,t,a){},345:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),i=a.n(c),o=a(22),s=a(350),l=a(34),u=a(144),m=a(50),p=a(35),d="MOVIES_REQUEST",v="GET_MOVIES_BY_NAME",f="GET_MOVIES_BY_GENRE",h="GET_POPULAR_MOVIES",E="GET_MOVIES_SUCCESS",b="ADD_MOVIES_SUCCESS",g="GET_MOVIES_FAILED",y="SET_SORTING",O="SET_VIEW_TYPE";function S(){return{type:d}}function w(e){return{type:E,movies:e}}function j(){return{type:g}}var N={fetching:!1,movies:[],viewType:"LIST",sortingType:"POPULARITY_DESC",error:!1};var C=Object(l.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.a)({},N),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(p.a)({},e,{fetching:!0});case g:return Object(p.a)({},e,{fetching:!1,error:!0});case E:return Object(p.a)({},e,{movies:t.movies,fetching:!1,error:!1});case b:return Object(p.a)({},e,{movies:[].concat(Object(m.a)(e.movies),Object(m.a)(t.movies)),fetching:!1,error:!1});case y:return Object(p.a)({},e,{sortingType:t.param});case O:return Object(p.a)({},e,{viewType:t.viewType});default:return e}}}),_=a(23),T=a.n(_),k=a(14),x=a(81),M=a.n(x);M.a.defaults.baseURL="https://api.themoviedb.org/3";var A="b0730a1cf45ff798ff411242700e6f40",P="&language=en-EN";function L(e){return M.a.get(e).then(function(e){return e.data}).catch(function(e){throw e})}function I(e){return L("search/movie?api_key=".concat(A,"&query=").concat(e).concat(P))}function D(){return L("movie/popular?api_key=".concat(A).concat(P))}function R(e){return L("/discover/movie?api_key=".concat(A).concat(P,"&with_genres=").concat(e))}var V=T.a.mark(G),F=T.a.mark(Y),U=T.a.mark(W),B=T.a.mark(H);function G(){var e,t;return T.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(k.c)(S());case 3:return a.next=5,Object(k.b)(D);case 5:return e=a.sent,t=e.results,a.next=9,Object(k.c)(w(t));case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(0),console.error(a.t0),a.next=16,Object(k.c)(j());case 16:case"end":return a.stop()}},V,this,[[0,11]])}function Y(e){var t,a,n;return T.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.name,r.prev=1,r.next=4,Object(k.c)(S());case 4:return r.next=6,Object(k.b)(I,t);case 6:return a=r.sent,n=a.results,r.next=10,Object(k.c)(w(n));case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(1),console.error(r.t0),r.next=17,Object(k.c)(j());case 17:case"end":return r.stop()}},F,this,[[1,12]])}function W(e){var t,a,n;return T.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.genreId,r.prev=1,r.next=4,Object(k.c)(S());case 4:return r.next=6,Object(k.b)(R,t);case 6:return a=r.sent,n=a.results,r.next=10,Object(k.c)(w(n));case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(1),console.error(r.t0),r.next=17,Object(k.c)(j());case 17:case"end":return r.stop()}},U,this,[[1,12]])}function H(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.d)(h,G);case 2:return e.next=4,Object(k.d)(v,Y);case 4:return e.next=6,Object(k.d)(f,W);case 6:case"end":return e.stop()}},B,this)}var J=T.a.mark(X);function X(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)([H()]);case 2:case"end":return e.stop()}},J,this)}var $=Object(u.a)(),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,z=Object(l.e)(C,q(Object(l.a)($)));$.run(X);var Q=z,K=a(26),Z=a(27),ee=a(29),te=a(28),ae=a(30),ne=a(352),re=a(349),ce=a(125),ie=a.n(ce),oe=a(145),se=a(123),le=a.n(se),ue={display:"flex",justifyContent:"space-between",minWidth:"8rem"};function me(e){var t=e.children,a=Object(oe.a)(e,["children"]);return r.a.createElement(le.a,Object.assign({},a,{style:ue}),t)}me.defaultProps={children:""};var pe=me,de=(a(246),a(124)),ve=Object(de.a)([function(e){return e.movies},function(e){return e.sortingType}],function(e,t){var a=Object(m.a)(e);switch(t){case"POPULARITY_DESC":return a.sort(function(e,t){return t.popularity-e.popularity});case"POPULARITY_ASC":return a.sort(function(e,t){return e.popularity-t.popularity});case"RELEASE_DATE_DESC":return a.sort(function(e,t){var a=[e.release_date,t.release_date],n=a[0],r=a[1];return r>n?1:r<n?-1:0});case"RELEASE_DATE_ASC":return a.sort(function(e,t){var a=[e.release_date,t.release_date],n=a[0],r=a[1];return r<n?1:r>n?-1:0});default:return e}}),fe=function(e){function t(){var e,a;Object(K.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(ee.a)(this,(e=Object(te.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=e.target.value,n=a.props,r=n.onSetSorting;t!==n.activeSorting&&r(t)},a}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props.activeSorting;return r.a.createElement("div",{className:"sorting"},r.a.createElement("span",{className:"sorting-label"},"Sort by:"),r.a.createElement("div",{className:"select-wrapper"},r.a.createElement(ie.a,{style:{marginLeft:10},value:e,onChange:this.handleChange,inputProps:{name:"age",id:"age-simple"}},r.a.createElement(pe,{value:"POPULARITY_DESC"},"Popularity ",r.a.createElement("span",null,"\u2191")),r.a.createElement(pe,{value:"POPULARITY_ASC"},"Popularity ",r.a.createElement("span",null,"\u2193")),r.a.createElement(pe,{value:"RELEASE_DATE_DESC"},"Release Date ",r.a.createElement("span",null,"\u2191")),r.a.createElement(pe,{value:"RELEASE_DATE_ASC"},"Release Date ",r.a.createElement("span",null,"\u2193")))))}}]),t}(n.Component),he=Object(o.b)(function(e){return{activeSorting:e.movies.sortingType}},function(e){return{onSetSorting:function(t){return e({type:y,param:t})}}})(fe),Ee=a(127),be=a.n(Ee),ge=a(126),ye=a.n(ge);a(302);var Oe=function(e){var t=e.checked,a=e.onChange,n=e.id,c=e.value,i=e.children;return r.a.createElement("label",{htmlFor:n,className:"toggle-item".concat(t?" active":"")},i,r.a.createElement("input",{name:"view-type",id:n,type:"radio",hidden:!0,onChange:function(){return a(c)},checked:t}))};a(304);var Se=function(e){var t=e.activeViewType,a=e.onChangeView;return r.a.createElement("div",{className:"view-toggle"},r.a.createElement(Oe,{name:"view-type",id:"toggle-list",onChange:a,checked:"LIST"===t,value:"LIST"},r.a.createElement(ye.a,null)),r.a.createElement(Oe,{name:"view-type",id:"toggle-tiles",onChange:a,checked:"TILES"===t,value:"TILES"},r.a.createElement(be.a,null)))};var we=Object(o.b)(function(e){return{activeViewType:e.movies.viewType}},function(e){return{onChangeView:function(t){return e(function(e){return{type:O,viewType:e}}(t))}}})(Se),je=function(){var e=navigator.userAgent.toLowerCase();return["iphone","ipad","android","blackberry","nokia","opera mini","windows mobile","windows phone","iemobile"].some(function(t){return e.includes(t)})};function Ne(e){function t(t){return r.a.createElement(e,Object.assign({},t,{isMobile:je()}))}return t.displayName="withMobileDetection(".concat(e.displayName||e.name||"Component",")"),t}a(306);function Ce(e){var t=e.wrapperStyle;return r.a.createElement("div",{className:"loader-wrap",style:t},r.a.createElement("div",{className:"loader"}))}Ce.defaultProps={wrapperStyle:{}};var _e=Ce,Te=a(348),ke=a(128),xe=a.n(ke),Me=a(36),Ae=a.n(Me),Pe=a(129),Le=a.n(Pe),Ie=a(130),De=a.n(Ie),Re=a(131),Ve=a.n(Re);De()(Ae.a),Le()(Ae.a);var Fe=function(e){var t=e.value,a={chart:{type:"solidgauge",height:"100%",backgroundColor:"none",className:"activity",margin:[0,0,0,0]},title:{text:""},tooltip:{enabled:!1},pane:{startAngle:0,endAngle:360,background:{outerRadius:"95%",innerRadius:"70%",backgroundColor:Ae.a.Color(Ae.a.getOptions().colors[0]).setOpacity(.3).get(),borderWidth:0}},yAxis:{min:0,max:10,lineWidth:0,tickPositions:[]},plotOptions:{solidgauge:{dataLabels:{enabled:!0,backgroundColor:"none",borderWidth:0,defer:!0,y:-14,x:-1,color:Ae.a.getOptions().colors[0],useHTML:!0,style:{fontSize:"0.8rem"}},linecap:"round",rounded:!0}},series:[{name:"Popularity",data:[{color:Ae.a.getOptions().colors[0],radius:"95%",innerRadius:"70%",y:t}]}]};return r.a.createElement(Ve.a,{highcharts:Ae.a,options:a})};a(309);var Ue=function(e){var t=e.movie,a=e.activeViewType,n=t.poster_path,c=t.title,i=t.release_date,o=t.overview,s=t.id,l=t.vote_average,u="movie-card ".concat(a.toLowerCase()),m=i?xe()(i).format("MMMM D, YYYY"):null,p=o.length>100?"".concat(o.substr(0,97),"..."):o,d=n?"http://image.tmdb.org/t/p/w185/".concat(n):"https://via.placeholder.com/185x278/0000FF/808080";return r.a.createElement("article",{className:u},r.a.createElement("div",{className:"poster"},r.a.createElement("img",{src:d,alt:c,className:"poster-image"})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title-wrapper"},r.a.createElement("div",{className:"popularity"},r.a.createElement(Fe,{value:l})),r.a.createElement("div",null,r.a.createElement("h3",{className:"title"},c),m&&r.a.createElement("time",{className:"release-date"},m))),r.a.createElement("div",{className:"description"},p),r.a.createElement("div",{className:"more-info"},r.a.createElement(Te.a,{to:"/movie/".concat(s),className:"more-info-link"},"More info"))))};a(311);function Be(e){var t=e.movies,a=e.fetching,n=e.activeViewType,c=e.isMobile;return e.error?r.a.createElement("div",{className:"error-message"},"Something went wrong!"):a&&!t.length>0?r.a.createElement(_e,{wrapperStyle:{minHeight:"calc(100vh - 160px)"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"actions"},r.a.createElement(he,null),!c&&r.a.createElement(we,null)),r.a.createElement("div",{className:"movies-list"},t.length>0?t.map(function(e){return r.a.createElement(Ue,{key:e.id,movie:e,activeViewType:n})}):!a&&"Movies not found"),a?r.a.createElement(_e,null):null)}Be.defaultProps={movies:[]};var Ge=Ne(Be),Ye=Object(o.b)(function(e){var t=e.movies,a=t.movies,n=t.fetching,r=t.viewType,c=t.error,i=t.sortingType;return{error:c,fetching:n,movies:ve({movies:a,sortingType:i}),activeViewType:r}})(Ge),We=a(351),He=a(80),Je=a.n(He),Xe=a(79),$e=a.n(Xe),qe=a(132),ze=a.n(qe);a(313);function Qe(e){var t=e.name,a=e.id,n=e.onClick,c=e.history,i=e.location;return r.a.createElement($e.a,{key:a,button:!0,component:"li",onClick:function(){n(a),"/"!==i.pathname&&c.push("/")}},r.a.createElement(ze.a,{disableTypography:!0,primary:t,className:"genre-name"}))}Qe.defaultProps={onClick:function(){}};var Ke=Qe,Ze=a(82),et=(a(318),function(e){function t(){return Object(K.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.getMoviesByGenre,a=e.history,n=e.location;return r.a.createElement("div",{className:"genres-list"},r.a.createElement("div",{className:"genres-label"},"Genres"),r.a.createElement(Je.a,null,Ze.length>0?Ze.map(function(e){var c=e.name,i=e.id;return r.a.createElement(Ke,{history:a,location:n,key:i,id:i,name:c,onClick:t})}):"no genres"))}}]),t}(r.a.PureComponent));et.defaultProps={getMoviesByGenre:function(){}};var tt=et,at=Object(We.a)(Object(o.b)(null,function(e){return{getMoviesByGenre:function(t){return e(function(e){return{type:f,genreId:e}}(t))}}})(tt));a(321);function nt(e){var t=e.children,a=e.isMobile,n=e.isOpen,c=e.onClose,i="sidebar".concat(a?" mobile":"").concat(n?" open":"");return r.a.createElement("div",{className:i,onClick:c,role:"navigation"},r.a.createElement("button",{type:"button",className:"close-btn",onClick:c},"\xd7"),t)}nt.defaultProps={children:""};var rt=nt;a(323);function ct(e){var t=e.children;return r.a.createElement("div",{className:"content"},t)}ct.defaultProps={children:""};var it=ct,ot=a(141),st=a.n(ot),lt=a(60),ut=a(137),mt=a.n(ut),pt=a(138),dt=a.n(pt),vt=a(58),ft=a.n(vt),ht=a(136),Et=a.n(ht),bt=a(135),gt=a.n(bt),yt=a(139),Ot=(a(325),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(ee.a)(this,Object(te.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(lt.a)({},n,r))},a.onSubmit=function(e){var t=a.props,n=t.onSubmit,r=t.history,c=t.location,i=a.state.input;e.preventDefault(),i&&("function"===typeof n&&n(i),"/"!==c.pathname&&r.push("/"))},a.state={input:""},a}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.state.input,t=this.props.classes;return r.a.createElement("form",{onSubmit:this.onSubmit,className:"search-form"},r.a.createElement(gt.a,{className:t.formControl},r.a.createElement(Et.a,{htmlFor:"search-input",classes:{root:t.cssLabel,focused:t.cssFocused}},"Search"),r.a.createElement(ft.a,{onChange:this.onChange,type:"search",value:e,name:"input",id:"search-input",fullWidth:!0,classes:{underline:t.cssUnderline},className:t.input})),r.a.createElement(mt.a,{type:"submit","aria-label":"search"},r.a.createElement(dt.a,{className:"search-icon"})))}}]),t}(n.Component));Ot.defaultProps={onSubmit:function(){}};var St=Object(yt.withStyles)(function(){return{input:{color:"white"},formControl:{marginBottom:6,flexDirection:"row",flexBasis:300},cssLabel:{color:"white","&$cssFocused":{color:"white"}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:"white"},borderBottomColor:"white","&:before":{borderBottomColor:"white"}}}})(Ot),wt=Object(We.a)(Object(o.b)(void 0,function(e){return{onSubmit:function(t){return e(function(e){return{type:v,name:e}}(t))}}})(St)),jt=a(140),Nt=a.n(jt);a(336);var Ct=function(e){var t=e.isMobile,a=e.toggleSidebar;return t?r.a.createElement("header",{className:"header mobile"},r.a.createElement(wt,null),r.a.createElement("button",{className:"menu-button",type:"button",onClick:a},r.a.createElement(st.a,{className:"menu-icon"}))):r.a.createElement("header",{className:"header"},r.a.createElement(Te.a,{to:"/"},r.a.createElement("img",{src:Nt.a,alt:"logo",className:"logo"})),r.a.createElement(wt,null))},_t=(a(338),function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(ee.a)(this,Object(te.a)(t).call(this,e))).state={fethcing:!0,hasError:!1,movie:null},a}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.params;(e=a.id,L("/movie/".concat(e,"?api_key=").concat(A).concat(P,"&append_to_response=videos"))).then(function(e){t.setState({movie:e,fethcing:!1,hasError:!1})}).catch(function(e){console.error(e),t.setState({hasError:e.message})})}},{key:"render",value:function(){var e=this.state,t=e.hasError,a=e.fethcing,n=e.movie;if(t)return r.a.createElement("div",{className:"error-message"},"Something went wrong. ",t);if(a)return r.a.createElement(_e,null);var c=n.budget,i=n.genres,o=n.title,s=n.release_date,l=n.poster_path,u=n.runtime,m=n.status,p=n.overview,d=n.vote_average,v=i.map(function(e){return e.name}),f=l?"http://image.tmdb.org/t/p/original/".concat(l):"https://via.placeholder.com/400x600/0000FF/808080";return r.a.createElement("div",{className:"movie"},r.a.createElement("div",{className:"poster-wrapper"},r.a.createElement("img",{className:"poster",src:f,alt:"".concat(o," poster")})),r.a.createElement("section",{className:"movie-info"},r.a.createElement("div",{className:"info-header"},r.a.createElement("div",{className:"popularity"},r.a.createElement(Fe,{value:d})),r.a.createElement("div",null,r.a.createElement("h3",{className:"movie-name"},o),r.a.createElement("span",{className:"release-date"},"(",s.substr(0,4),")"),r.a.createElement("div",{className:"status"},r.a.createElement("output",null,m)))),r.a.createElement("dl",{className:"info-list"},r.a.createElement("dt",null,"Runtime"),r.a.createElement("dd",null,u,"m"),r.a.createElement("dt",null,"Genres"),r.a.createElement("dd",null,v.join(", ")),r.a.createElement("dt",null,"Budget"),r.a.createElement("dd",null,c,"$"),r.a.createElement("dt",null,"Overview"),r.a.createElement("dd",null,p))))}}]),t}(n.Component)),Tt=a(142),kt=a.n(Tt),xt=a(143),Mt=a.n(xt);a(340);var At=function(){return r.a.createElement("div",{className:"not-found"},r.a.createElement("div",{className:"message"},r.a.createElement(kt.a,{style:{width:"10rem",height:"10rem"}}),r.a.createElement("h2",null,"Page not found")),r.a.createElement(Te.a,{to:"/"},r.a.createElement(Mt.a,{variant:"contained",color:"primary"},"Home")))},Pt=(a(343),Ne(function(e){function t(e){var a;return Object(K.a)(this,t),(a=Object(ee.a)(this,Object(te.a)(t).call(this,e))).closeSidebar=function(){a.setState({isSidebarOpen:!1})},a.toggleSidebar=function(){a.setState(function(e){return{isSidebarOpen:!e.isSidebarOpen}})},a.state={isSidebarOpen:!1},a}return Object(ae.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props.isMobile,t=this.state.isSidebarOpen;return r.a.createElement("div",{className:"App"},r.a.createElement(Ct,{isMobile:e,toggleSidebar:this.toggleSidebar}),r.a.createElement(rt,{isMobile:e,isOpen:t,onClose:this.closeSidebar},r.a.createElement(at,null)),r.a.createElement(it,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,{exact:!0,path:"/",component:Ye}),r.a.createElement(re.a,{path:"/movie/:id",render:function(e){return r.a.createElement(_t,e)}}),r.a.createElement(re.a,{component:At}))))}}]),t}(n.Component)));a(345);Q.dispatch({type:h}),i.a.render(r.a.createElement(o.a,{store:Q},r.a.createElement(s.a,null,r.a.createElement(Pt,null))),document.getElementById("root"))},82:function(e){e.exports=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]}},[[146,2,1]]]);
//# sourceMappingURL=main.9a4e5df0.chunk.js.map